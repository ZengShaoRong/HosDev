"use strict";(self["webpackChunkvue_arcgis_0905"]=self["webpackChunkvue_arcgis_0905"]||[]).push([[5498,9888],{59888:function(e,t,n){n.d(t,{GB:function(){return r},Qo:function(){return o},Y4:function(){return s}});var i=n(14116);class r{}function s(e){return e instanceof i.bo?e===r.instance:"unknown"===e?.toString().toLowerCase()}function o(e){return s(e)?r.instance:e}r.instance=new i.oh("Etc/UTC")},19922:function(e,t,n){n.d(t,{g:function(){return i}});const i={convertToGEGeometry:r,exportPoint:o,exportPolygon:a,exportPolyline:c,exportMultipoint:h,exportExtent:d};function r(e,t){return null==t?null:e.convertJSONToGeometry(t)}class s{constructor(e,t,n){this.x=e,this.y=t,this.spatialReference=n,this.z=void 0,this.m=void 0}}function o(e,t,n){const i=new s(e.getPointX(t),e.getPointY(t),n),r=e.hasZ(t),o=e.hasM(t);return r&&(i.z=e.getPointZ(t)),o&&(i.m=e.getPointM(t)),i}class l{constructor(e,t,n,i){this.rings=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}function a(e,t,n){return new l(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))}class u{constructor(e,t,n,i){this.paths=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}function c(e,t,n){return new u(e.exportPaths(t),n,e.hasZ(t),e.hasM(t))}class f{constructor(e,t,n,i){this.points=e,this.spatialReference=t,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}function h(e,t,n){return new f(e.exportPoints(t),n,e.hasZ(t),e.hasM(t))}class m{constructor(e,t,n,i,r){this.xmin=e,this.ymin=t,this.xmax=n,this.ymax=i,this.spatialReference=r,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}function d(e,t,n){const i=e.hasZ(t),r=e.hasM(t),s=new m(e.getXMin(t),e.getYMin(t),e.getXMax(t),e.getYMax(t),n);if(i){const n=e.getZExtent(t);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=e.getMExtent(t);s.mmin=n.vmin,s.mmax=n.vmax}return s}},21839:function(e,t,n){n.d(t,{$X:function(){return N},Gy:function(){return R},P5:function(){return w},SW:function(){return x},Tr:function(){return I},VV:function(){return i}});n(44114),n(55910);function i(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function r(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}function s(e){if(r(e))return e;const{originPosition:t,scale:n,translate:i}=e,s=n[0]??1,o=n[1]??1;return{originPosition:"lowerLeft",scale:[s,"lowerLeft"===t?o:-o,n[2]??1,n[3]??1],translate:[i[0]??0,i[1]??0,i[2]??0,i[3]??0]}}function o({scale:e,translate:t},n){return Math.round((n-t[0])/e[0])}function l({scale:e,translate:t},n){return Math.round((n-t[1])/e[1])}function a({scale:e,translate:t},n){return Math.round(((n??0)-t[2])/e[2])}function u({scale:e,translate:t},n){return n?Math.round((n-t[3])/e[3]):0}function c({scale:e,translate:t},n){return n*e[0]+t[0]}function f({scale:e,translate:t},n){return n*e[1]+t[1]}function h({scale:e,translate:t},n){return(n??0)*e[2]+t[2]}function m({scale:e,translate:t},n){return n?n*e[3]+t[3]:0}function d(e,t){return e&&t?S:e&&!t?g:!e&&t?y:p}const p=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let r=c(e,i[0]),s=f(e,i[1]);n[0]=[r,s];const{scale:o,originPosition:l}=e,a=o[0],u="lowerLeft"===l?o[1]:-o[1];for(let c=1;c<t.length;c++){const[e,i]=t[c];r+=a*e,s+=u*i,n[c]=[r,s]}return n},g=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let r=c(e,i[0]),s=f(e,i[1]);n[0]=[r,s,h(e,i[2])];const{scale:o,originPosition:l}=e,a=o[0],u="lowerLeft"===l?o[1]:-o[1];for(let c=1;c<t.length;c++){const[i,o,l]=t[c];r+=a*i,s+=u*o,n[c]=[r,s,h(e,l)]}return n},y=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let r=c(e,i[0]),s=f(e,i[1]);n[0]=[r,s,m(e,i[2])];const{scale:o,originPosition:l}=e,a=o[0],u="lowerLeft"===l?o[1]:-o[1];for(let c=1;c<t.length;c++){const[i,o,l]=t[c];r+=a*i,s+=u*o,n[c]=[r,s,m(e,l)]}return n},S=(e,t)=>{const n=new Array(t.length);if(!t.length)return n;const i=t[0];let r=c(e,i[0]),s=f(e,i[1]);n[0]=[r,s,h(e,i[2]),m(e,i[3])];const{scale:o,originPosition:l}=e,a=o[0],u="lowerLeft"===l?o[1]:-o[1];for(let c=1;c<t.length;c++){const[i,o,l,f]=t[c];r+=a*i,s+=u*o,n[c]=[r,s,h(e,l),m(e,f)]}return n};function F(e,t,n){const i=new Array(n.length);for(let r=0;r<n.length;r++)i[r]=t(e,n[r]);return i}function R(e,t,n){const i=s(e);return t.x=o(i,n.x),t.y=l(i,n.y),null!=n.z&&(t.z=a(i,n.z)),null!=n.m&&(t.m=u(i,n.m)),t}function x(e,t,n,i=n?.hasZ??!1,r=n?.hasM??!1){if(null!=n){const o=s(e);t.points=d(i,r)(o,n.points),t.hasZ=i,t.hasM=r}return t}function I(e,t,n,i=null!=n?.z,r=null!=n?.m){if(null==n)return t;const o=s(e);return t.x=c(o,n.x),t.y=f(o,n.y),i&&(t.z=h(o,n.z)),r&&(t.m=m(o,n.m)),t}function N(e,t,n,i=n?.hasZ??!1,r=n?.hasM??!1){if(null!=n){const o=s(e);t.rings=F(o,d(i,r),n.rings),t.hasZ=i,t.hasM=r}return t}function w(e,t,n,i=n?.hasZ??!1,r=n?.hasM??!1){if(null!=n){const o=s(e);t.paths=F(o,d(i,r),n.paths),t.hasZ=i,t.hasM=r}return t}},42425:function(e,t,n){n.d(t,{Q:function(){return r}});n(44114);function i(e,t){return e?t?4:3:t?3:2}function r(e,t,n,r){if(!t?.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const l=e.coords,a=[],u=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:c,coords:f}=t,h=i(n,r);let m=0;for(const i of c){const e=s(u,f,m,i,n,r);e&&a.push(e),m+=i*h}if(a.sort(((e,t)=>{let i=e[2]-t[2];return 0===i&&n&&(i=e[4]-t[4]),i})),a.length){let e=6*a[0][2];l[0]=a[0][0]/e,l[1]=a[0][1]/e,n&&(e=6*a[0][4],l[2]=0!==e?a[0][3]/e:0),(l[0]<u[0]||l[0]>u[1]||l[1]<u[2]||l[1]>u[3]||n&&(l[2]<u[4]||l[2]>u[5]))&&(l.length=0)}if(!l.length){const e=t.lengths[0]?o(f,0,c[0],n,r):null;if(!e)return null;l[0]=e[0],l[1]=e[1],n&&e.length>2&&(l[2]=e[2])}return e}function s(e,t,n,r,s,o){const l=i(s,o);let a=n,u=n+l,c=0,f=0,h=0,m=0,d=0;for(let i=0,g=r-1;i<g;i++,a+=l,u+=l){const n=t[a],i=t[a+1],r=t[a+2],o=t[u],l=t[u+1],p=t[u+2];let g=n*l-o*i;m+=g,c+=(n+o)*g,f+=(i+l)*g,s&&(g=n*p-o*r,h+=(r+p)*g,d+=g),n<e[0]&&(e[0]=n),n>e[1]&&(e[1]=n),i<e[2]&&(e[2]=i),i>e[3]&&(e[3]=i),s&&(r<e[4]&&(e[4]=r),r>e[5]&&(e[5]=r))}if(m>0&&(m*=-1),d>0&&(d*=-1),!m)return null;const p=[c,f,.5*m];return s&&(p[3]=h,p[4]=.5*d),p}function o(e,t,n,r,s){const o=i(r,s);let f=t,h=t+o,m=0,d=0,p=0,g=0;for(let i=0,y=n-1;i<y;i++,f+=o,h+=o){const t=e[f],n=e[f+1],i=e[f+2],s=e[h],o=e[h+1],y=e[h+2],S=r?a(t,n,i,s,o,y):l(t,n,s,o);if(S)if(m+=S,r){const e=c(t,n,i,s,o,y);d+=S*e[0],p+=S*e[1],g+=S*e[2]}else{const e=u(t,n,s,o);d+=S*e[0],p+=S*e[1]}}return m>0?r?[d/m,p/m,g/m]:[d/m,p/m]:n>0?r?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function l(e,t,n,i){const r=n-e,s=i-t;return Math.sqrt(r*r+s*s)}function a(e,t,n,i,r,s){const o=i-e,l=r-t,a=s-n;return Math.sqrt(o*o+l*l+a*a)}function u(e,t,n,i){return[e+.5*(n-e),t+.5*(i-t)]}function c(e,t,n,i,r,s){return[e+.5*(i-e),t+.5*(r-t),n+.5*(s-n)]}},92759:function(e,t,n){n.d(t,{LQ:function(){return u},ag:function(){return f},pL:function(){return c}});var i=n(3234),r=n(46740);const s=new r.A,o=new r.A,l=new r.A,a={esriGeometryPoint:i.DF,esriGeometryPolyline:i.BW,esriGeometryPolygon:i.z5,esriGeometryMultipoint:i.qK};function u(e,t,n,r=e.hasZ,s=e.hasM){if(null==t)return null;const o=e.hasZ&&r,a=e.hasM&&s;if(n){const u=(0,i.Nl)(l,t,e.hasZ,e.hasM,"esriGeometryPoint",n,r,s);return(0,i.DF)(u,o,a)}return(0,i.DF)(t,o,a)}function c(e,t,n,r,u,c,f=t,h=n){const m=t&&f,d=n&&h,p=null!=r?"coords"in r?r:r.geometry:null;if(null==p)return null;if(u){let r=(0,i.kz)(o,p,t,n,e,u,f,h);return c&&(r=(0,i.Nl)(l,r,m,d,e,c)),a[e]?.(r,m,d)??null}if(c){const r=(0,i.Nl)(l,p,t,n,e,c,f,h);return a[e]?.(r,m,d)??null}return(0,i.Q4)(s,p,t,n,f,h),a[e]?.(s,m,d)??null}function f(e){return e&&h in e?JSON.parse(JSON.stringify(e,m)):e}const h="_geVersion",m=(e,t)=>e!==h?t:void 0},58770:function(e,t,n){n.d(t,{Cv:function(){return g},Nk:function(){return m},lK:function(){return F}});n(44114);var i=n(39930),r=n(13570),s=n(40162),o=n(19922),l=n(84427),a=n(22193);const u=[0,0];function c(e,t){if(!t)return null;if("x"in t){const n={x:0,y:0};return[n.x,n.y]=e(t.x,t.y,u),null!=t.z&&(n.z=t.z),null!=t.m&&(n.m=t.m),n}if("xmin"in t){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=e(t.xmin,t.ymin,u),[n.xmax,n.ymax]=e(t.xmax,t.ymax,u),t.hasZ&&(n.zmin=t.zmin,n.zmax=t.zmax,n.hasZ=!0),t.hasM&&(n.mmin=t.mmin,n.mmax=t.mmax,n.hasM=!0),n}return"rings"in t?{rings:f(t.rings,e),hasM:t.hasM,hasZ:t.hasZ}:"paths"in t?{paths:f(t.paths,e),hasM:t.hasM,hasZ:t.hasZ}:"points"in t?{points:h(t.points,e),hasM:t.hasM,hasZ:t.hasZ}:null}function f(e,t){const n=[];for(const i of e)n.push(h(i,t));return n}function h(e,t){const n=[];for(const i of e){const e=t(i[0],i[1],[0,0]);n.push(e),i.length>2&&e.push(i[2]),i.length>3&&e.push(i[3])}return n}async function m(e,t){if(!e||!t)return;const n=Array.isArray(e)?e.map((e=>null!=e.geometry?e.geometry.spatialReference:null)).filter(i.Ru):[e];await(0,s.initializeProjection)(n.map((e=>({source:e,dest:t}))))}const d=c.bind(null,a.je),p=c.bind(null,a.tD);function g(e,t,n,i){if(!e)return e;if(n||(n=t,t=e.spatialReference),!(0,l.fn)(t)||!(0,l.fn)(n)||(0,l.aI)(t,n))return e;if((0,a.y7)(t,n)){const t=(0,l.K8)(n)?d(e):p(e);return t.spatialReference=n,t}return(0,s.projectMany)(o.g,[e],t,n,null,i)[0]}class y{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(e,t,n,i){if(!e?.length||!t||!n||(0,l.aI)(t,n))return e;const s={geometries:e,inSpatialReference:t,outSpatialReference:n,geographicTransformation:i,resolve:(0,r.Tw)()};return this._jobs.push(s),this._timer??=setTimeout(this._process,10),s.resolve.promise}_process(){this._timer=null;const e=this._jobs.shift();if(!e)return;const{geometries:t,inSpatialReference:n,outSpatialReference:i,resolve:r,geographicTransformation:u}=e;(0,a.y7)(n,i)?(0,l.K8)(i)?r(t.map(d)):r(t.map(p)):r((0,s.projectMany)(o.g,t,n,i,u,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}}const S=new y;function F(e,t,n,i){return S.push(e,t,n,i)}},78329:function(e,t,n){n.d(t,{GC:function(){return m},T2:function(){return d},v8:function(){return h}});var i=n(2914),r=n(98569),s=n(40162),o=n(97220),l=n(55910),a=n(55555),u=n(84427),c=n(58770);const f=new i.J({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),h=Object.freeze({});async function m(e,t,n){const{outFields:i,orderByFields:r,groupByFieldsForStatistics:s,outStatistics:o}=e;if(i)for(let l=0;l<i.length;l++)i[l]=i[l].trim();if(r)for(let l=0;l<r.length;l++)r[l]=r[l].trim();if(s)for(let l=0;l<s.length;l++)s[l]=s[l].trim();if(o)for(let l=0;l<o.length;l++)o[l].onStatisticField&&(o[l].onStatisticField=o[l].onStatisticField.trim());return e.geometry&&!e.outSR&&(e.outSR=e.geometry.spatialReference),d(e,t,n)}async function d(e,t,n){if(!e)return null;let{where:i}=e;if(e.where=i=i?.trim(),(!i||/^1 *= *1$/.test(i)||t&&t===i)&&(e.where=null),!e.geometry)return e;let r=await y(e);if(e.distance=0,e.units=null,"esriSpatialRelEnvelopeIntersects"===e.spatialRel){const{spatialReference:t}=e.geometry;r=(0,o.HA)(r),r.spatialReference=t}if(r){await(0,c.Nk)(r.spatialReference,n),r=g(r,n);const t=(await(0,a.el)((0,l.rS)(r)))[0];if(null==t)throw h;const i="quantizationParameters"in e&&e.quantizationParameters?.tolerance||"maxAllowableOffset"in e&&e.maxAllowableOffset||0,s=i&&p(r,n)?{densificationStep:8*i}:void 0,o=t.toJSON(),u=(0,c.Cv)(o,o.spatialReference,n,s);if(!u)throw h;u.spatialReference=n,e.geometry=u}return e}function p(e,t){if(!e)return!1;const n=e.spatialReference;return((0,l.ZC)(e)||(0,l.Bi)(e)||(0,l.Rg)(e))&&!(0,u.aI)(n,t)&&!(0,s.canProjectWithoutEngine)(n,t)}function g(e,t){const n=e.spatialReference;return p(e,t)&&(0,l.ZC)(e)?{spatialReference:n,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]}:e}async function y(e){const{distance:t,units:n}=e,i=e.geometry;if(null==t||"vertexAttributes"in i)return i;const s=i.spatialReference,o=n?f.fromJSON(n):(0,r.Ij)(s),l=s&&((0,u.EA)(s)||(0,u.K8)(s))?i:await(0,c.Nk)(s,u.KK).then((()=>(0,c.Cv)(i,u.KK)));return(await S())(l.spatialReference,l,t,o)}async function S(){return(await n.e(5130).then(n.bind(n,42749))).geodesicBuffer}},34362:function(e,t,n){n.d(t,{tC:function(){return _},c0:function(){return T},xt:function(){return M}});var i=n(18244),r=n(56448),s=n(76546);function o(e){return"mesh"===e?s.xB:(0,s.xK)(e)}var l=n(55910),a=n(84427);function u(e,t){return e?t?4:3:t?3:2}function c(e,t,n,i){return h(e,t,n,i.coords[0],i.coords[1])}function f(e,t,n,i,r,s){const o=u(r,s),{coords:l,lengths:a}=i;if(!a)return!1;for(let u=0,c=0;u<a.length;u++,c+=o)if(!h(e,t,n,l[c],l[c+1]))return!1;return!0}function h(e,t,n,i,r){if(!e)return!1;const s=u(t,n),{coords:o,lengths:l}=e;let a=!1,c=0;for(const u of l)a=m(a,o,s,c,u,i,r),c+=u*s;return a}function m(e,t,n,i,r,s,o){let l=e,a=i;for(let u=i,c=i+r*n;u<c;u+=n){a=u+n,a===c&&(a=i);const e=t[u],r=t[u+1],f=t[a],h=t[a+1];(r<o&&h>=o||h<o&&r>=o)&&e+(o-r)/(h-r)*(f-e)<s&&(l=!l)}return l}var d=n(3234),p=n(46740),g=n(92759),y=n(58770);const S="unsupported-query",F={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},R={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};function x(e){return null!=e&&!0===R.spatialRelationship[e]}function I(e){return null!=e&&!0===R.queryGeometry[(0,l.$B)(e)]}function N(e){return null!=e&&!0===R.layerGeometry[e]}function w(){return n.e(5130).then(n.bind(n,42749))}function M(e,t,n,i,s){if((0,l.Bi)(t)&&"esriGeometryPoint"===n&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e)){const e=(0,d.Ye)(new p.A,t,!1,!1);return Promise.resolve((t=>c(e,!1,!1,t)))}if((0,l.Bi)(t)&&"esriGeometryMultipoint"===n){const n=(0,d.Ye)(new p.A,t,!1,!1);if("esriSpatialRelContains"===e)return Promise.resolve((e=>f(n,!1,!1,e,i,s)))}if((0,l.ZC)(t)&&"esriGeometryPoint"===n&&("esriSpatialRelIntersects"===e||"esriSpatialRelContains"===e))return Promise.resolve((e=>(0,r.qz)(t,(0,g.pL)(n,i,s,e))));if((0,l.ZC)(t)&&"esriGeometryMultipoint"===n&&"esriSpatialRelContains"===e)return Promise.resolve((e=>(0,r.rL)(t,(0,g.pL)(n,i,s,e))));if((0,l.ZC)(t)&&"esriSpatialRelIntersects"===e){const e=o(n);return Promise.resolve((r=>e(t,(0,g.pL)(n,i,s,r))))}return w().then((r=>{const o=r[F[e]].bind(null,t.spatialReference,t);return e=>o((0,g.pL)(n,i,s,e))}))}async function T(e,t,n){const{spatialRel:r,geometry:s}=e;if(s){if(!x(r))throw new i.A(S,"Unsupported query spatial relationship",{query:e});if((0,a.fn)(s.spatialReference)&&(0,a.fn)(n)){if(!I(s))throw new i.A(S,"Unsupported query geometry type",{query:e});if(!N(t))throw new i.A(S,"Unsupported layer geometry type",{query:e});if(e.outSR)return(0,y.Nk)(e.geometry?.spatialReference,e.outSR)}}}function _(e){if((0,l.ZC)(e))return!0;if((0,l.Bi)(e)){for(const t of e.rings){if(5!==t.length)return!1;if(t[0][0]!==t[1][0]||t[0][0]!==t[4][0]||t[2][0]!==t[3][0]||t[0][1]!==t[3][1]||t[0][1]!==t[4][1]||t[1][1]!==t[2][1])return!1}return!0}return!1}},59502:function(e,t,n){async function i(e,t){if(!e)return null;const n=t.featureAdapter,{startTimeField:i,endTimeField:r}=e;let s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;if(i&&r)await t.forEach((e=>{const t=n.getAttribute(e,i),l=n.getAttribute(e,r);null==t||isNaN(t)||(s=Math.min(s,t)),null==l||isNaN(l)||(o=Math.max(o,l))}));else{const e=i||r;await t.forEach((t=>{const i=n.getAttribute(t,e);null==i||isNaN(i)||(s=Math.min(s,i),o=Math.max(o,i))}))}return{start:s,end:o}}function r(e,t,n){if(!t||!e)return null;const{startTimeField:i,endTimeField:r}=e;if(!i&&!r)return null;const{start:a,end:u}=t;if(null===a&&null===u)return null;if(void 0===a&&void 0===u)return l();const c=n.getAttributeAsTimestamp?.bind(n)??n.getAttribute.bind(n);return i&&r?s(c,i,r,a,u):o(c,i||r,a,u)}function s(e,t,n,i,r){return null!=i&&null!=r?s=>{const o=e(s,t),l=e(s,n);return(null==o||o<=r)&&(null==l||l>=i)}:null!=i?t=>{const r=e(t,n);return null==r||r>=i}:null!=r?n=>{const i=e(n,t);return null==i||i<=r}:void 0}function o(e,t,n,i){return null!=n&&null!=i&&n===i?i=>e(i,t)===n:null!=n&&null!=i?r=>{const s=e(r,t);return null!=s&&s>=n&&s<=i}:null!=n?i=>{const r=e(i,t);return null!=r&&r>=n}:null!=i?n=>{const r=e(n,t);return null!=r&&r<=i}:void 0}function l(){return()=>!1}n.d(t,{I:function(){return r},W:function(){return i}})},91044:function(e,t,n){n.d(t,{A:function(){return p}});n(44114),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698);var i=n(18244),r=n(17010),s=n(8660),o=n(71207),l=n(59888),a=n(12014),u=n(57564),c=n(14116);function f(e){return"timeZone"in e}function h(e){return"timeZone"in e}function m(e){return"dateFieldsTimeZone"in e}const d=new Map;class p{static fromJSON(e){return new p(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new p(e.fields??[],F(e))}static fromLayerJSON(e){return new p(e.fields??[],F(e))}constructor(e=[],t){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const n=[];for(const i of this.fields){const e=i?.name,t=y(e);if(e&&t){const r=g(e);this._fieldsMap.set(e,i),this._fieldsMap.set(r,i),this._normalizedFieldsMap.set(t,i),n.push(`${r}:${i.type}:${this._timeZoneByFieldName?.get(e)}`),(0,a.vE)(i)?(this.dateFields.push(i),this._dateFieldsSet.add(i)):(0,a.WA)(i)&&(this._numericFieldsSet.add(i),this.numericFields.push(i)),(0,a.te)(i)||(0,a.Xz)(i)||(i.editable=null==i.editable||!!i.editable,i.nullable=null==i.nullable||!!i.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,a.te)(e)||(0,a.Xz)(e)||e.nullable||void 0!==(0,a.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(g(e))??this._normalizedFieldsMap.get(y(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(s.A.getLogger("esri.layers.support.FieldsIndex").error(new i.A("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),u.n$):S.has(t.type)?u.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===u.L5?l.GB.instance:t===u.n$?c.mQ.utcInstance:(0,o.tE)(d,t,(()=>c.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,a.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map((e=>(0,r.Wj)(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function g(e){return e.trim().toLowerCase()}function y(e){return(0,a.rS)(e)?.toLowerCase()??""}const S=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function F(e){const t=new Map;if(!e.fields)return t;const n=!0===e.datesInUnknownTimezone,{timeInfo:i,editFieldsInfo:r}=e,s=(i?"startField"in i?i.startField:i.startTimeField:"")??"",o=(i?"endField"in i?i.endField:i.endTimeField:"")??"",l=m(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,u.ZS)(e.dateFieldsTimeReference):null,a=r?f(r)?r.timeZone??l:r.dateFieldsTimeReference?(0,u.ZS)(r.dateFieldsTimeReference):l??u.n$:null,c=i?h(i)?i.timeZone??l:i.timeReference?(0,u.ZS)(i.timeReference):l:null,d=new Map([[g(r?.creationDateField??""),a],[g(r?.editDateField??""),a],[g(s),c],[g(o),c]]);for(const{name:f,type:h}of e.fields)if(S.has(h))t.set(f,u.L5);else if("date"!==h&&"esriFieldTypeDate"!==h)t.set(f,null);else if(n)t.set(f,u.L5);else{const e=d.get(g(f??""))??l;t.set(f,e)}return t}}}]);
//# sourceMappingURL=5498.9f39576e.js.map