"use strict";(self["webpackChunkvue_arcgis_0905"]=self["webpackChunkvue_arcgis_0905"]||[]).push([[7962],{27962:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-mange padding15",staticStyle:{padding:"15px"}},[t._m(0),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),e("el-table-column",{attrs:{prop:"username",label:"用户名",width:"180"}}),e("el-table-column",{attrs:{prop:"password",label:"密码"}}),e("el-table-column",{attrs:{label:"操作",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.editMain(a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.delMain(a.row)}}},[t._v("删除")])]}}])})],1),e("el-dialog",{attrs:{title:"用户信息",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"用户名","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),e("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.editUser}},[t._v("确 定")])],1)],1)],1)},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"top-main",staticStyle:{display:"flex",padding:"20px 0"}},[e("h1",{staticStyle:{margin:"0"}},[t._v("系统用户数据管理")])])}],l={data(){return{tableData:[],dialogFormVisible:!1,form:{username:"",password:""},formLabelWidth:"120px"}},async created(){this.getData()},methods:{async getData(){var t=await this.$axios.get("/SCBUserDataGet/SCBUserDataGet");this.tableData=t.data.data,console.log(this.userList)},editMain(t){console.log(t),"admin"===t.username?this.$message.error("管理员信息不可以编辑"):(this.dialogFormVisible=!0,this.form=t)},async editUser(){if(""!==this.form.username&&""!==this.form.password){console.log(this.form),this.form.checkPass=this.form.username;var t=null;t=await this.$axios.post("/SCBUserDataEdit/SCBUserDataEdit",this.form),200===t.status&&(this.getData(),this.dialogFormVisible=!1)}else this.$message.error("用户名或密码不可以为空")},async delMain(t){if(console.log(t),"admin"===t.username)this.$message.error("管理员信息不可以删除");else{var e=null;e=await this.$axios.post("/SCBUserDataRemove/SCBUserDataRemove",{_id:t._id}),200===e.status&&this.getData()}}}},o=l,r=a(81656),n=(0,r.A)(o,s,i,!1,null,"74966dce",null),d=n.exports}}]);
//# sourceMappingURL=7962.200a52ff.js.map