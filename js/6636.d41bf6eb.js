"use strict";(self["webpackChunkvue_arcgis_0905"]=self["webpackChunkvue_arcgis_0905"]||[]).push([[6636],{75656:function(t,e,r){r.d(e,{a:function(){return i},b:function(){return a},n:function(){return l},s:function(){return s},t:function(){return c}});r(9302);var n=r(8660);const o=()=>n.A.getLogger("esri.views.3d.support.buffer.math");function f(t,e,r){if(t.count!==e.count)return;const n=t.count,o=r[0],f=r[1],u=r[2],i=r[3],c=r[4],l=r[5],a=r[6],s=r[7],p=r[8],d=r[9],y=r[10],m=r[11],T=r[12],g=r[13],A=r[14],h=r[15],P=t.typedBuffer,M=t.typedBufferStride,B=e.typedBuffer,_=e.typedBufferStride;for(let O=0;O<n;O++){const t=O*M,e=O*_,r=B[e],n=B[e+1],N=B[e+2],S=B[e+3];P[t]=o*r+c*n+p*N+T*S,P[t+1]=f*r+l*n+d*N+g*S,P[t+2]=u*r+a*n+y*N+A*S,P[t+3]=i*r+s*n+m*N+h*S}}function u(t,e,r,n=4,f=n){if(t.length/n!=e.length/f)return void o().error("source and destination buffers need to have the same number of elements");const u=t.length/n,i=r[0],c=r[1],l=r[2],a=r[3],s=r[4],p=r[5],d=r[6],y=r[7],m=r[8],T=r[9],g=r[10],A=r[11],h=r[12],P=r[13],M=r[14],B=r[15];let _=0,O=0;for(let o=0;o<u;o++){const r=e[_],o=e[_+1],u=e[_+2],N=e[_+3];t[O]=i*r+s*o+m*u+h*N,t[O+1]=c*r+p*o+T*u+P*N,t[O+2]=l*r+d*o+g*u+M*N,t[O+3]=a*r+y*o+A*u+B*N,_+=f,O+=n}}function i(t,e,r){c(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function c(t,e,r,n=4,o=n){if(t.length/n!=e.length/o)return;const f=t.length/n,u=r[0],i=r[1],c=r[2],l=r[3],a=r[4],s=r[5],p=r[6],d=r[7],y=r[8];let m=0,T=0;for(let g=0;g<f;g++){const r=e[m],f=e[m+1],g=e[m+2],A=e[m+3];t[T]=u*r+l*f+p*g,t[T+1]=i*r+a*f+d*g,t[T+2]=c*r+s*f+y*g,t[T+3]=A,m+=o,T+=n}}function l(t,e){const r=Math.min(t.count,e.count),n=t.typedBuffer,o=t.typedBufferStride,f=e.typedBuffer,u=e.typedBufferStride;for(let i=0;i<r;i++){const t=i*o,e=i*u,r=f[e],c=f[e+1],l=f[e+2],a=r*r+c*c+l*l;if(a>0){const e=1/Math.sqrt(a);n[t]=e*r,n[t+1]=e*c,n[t+2]=e*l}}}function a(t,e,r){s(t.typedBuffer,e,r,t.typedBufferStride)}function s(t,e,r,n=4){const o=Math.min(t.length/n,e.count),f=e.typedBuffer,u=e.typedBufferStride;let i=0,c=0;for(let l=0;l<o;l++)t[c]=r*f[i],t[c+1]=r*f[i+1],t[c+2]=r*f[i+2],t[c+3]=r*f[i+3],i+=u,c+=n}Object.freeze(Object.defineProperty({__proto__:null,normalize:l,scale:s,scaleView:a,transformMat3:c,transformMat3View:i,transformMat4:u,transformMat4View:f},Symbol.toStringTag,{value:"Module"}))},34255:function(t,e,r){r.d(e,{$5:function(){return N},CN:function(){return M},JP:function(){return P},KM:function(){return F},Mv:function(){return E},X4:function(){return B},gr:function(){return O},project:function(){return b},qs:function(){return S},si:function(){return _},xA:function(){return v}});r(16573),r(78100),r(77936),r(37467),r(44732),r(79577);var n=r(27165),o=r(4260),f=r(36816),u=r(44337),i=r(17455),c=r(3568),l=r(74344),a=r(40162),s=r(49398),p=r(28972),d=r(45316),y=r(89495),m=(r(12356),r(84427)),T=r(22193),g=r(67008),A=r(65720),h=r(75656);const P="Projection may be possible after calling projection.load().";function M(t,e,r,n){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${r.wkid}).${n?" ":""}${n}`)}function B(t,e,r,n,o){return C(x.TO_PCPF,g.xs.fromTypedArray(t),R.NORMAL,g.Xm.fromTypedArray(e),g.Xm.fromTypedArray(r),n,g.xs.fromTypedArray(o))?o:null}function _(t,e,r,n,o){return C(x.FROM_PCPF,g.xs.fromTypedArray(t),R.NORMAL,g.Xm.fromTypedArray(e),g.Xm.fromTypedArray(r),n,g.xs.fromTypedArray(o))?o:null}function O(t,e,r){return(0,d.projectBuffer)(t,e,0,r,(0,s.lO)(e),0,t.length/3)?r:null}function N(t,e,r){return(0,d.projectBuffer)(t,(0,s.lO)(r),0,e,r,0,t.length/3)?e:null}function S(t,e,r){return(0,o.Ge)(L,r),(0,A.t)(e,t,L),(0,n.or)(L)&&(0,A.n)(e,e),e}function F(t,e,r){return(0,o.z0)(L,r),(0,h.t)(e,t,L),(0,n.or)(L)&&(0,A.n)(e,e,4),e}function v(t,e,r,n,o){if(!C(x.TO_PCPF,g.xs.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),R.TANGENT,g.Xm.fromTypedArray(e),g.Xm.fromTypedArray(r),n,g.xs.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let f=3;f<t.length;f+=4)o[f]=t[f];return o}function E(t,e,r,n,o){if(!C(x.FROM_PCPF,g.xs.fromTypedArray(t,16),R.TANGENT,g.Xm.fromTypedArray(e),g.Xm.fromTypedArray(r),n,g.xs.fromTypedArray(o,16)))return null;for(let f=3;f<t.length;f+=4)o[f]=t[f];return o}var R,x;function j(t,e,r,n,f){switch((0,p.l)(n,r,k,n),t===x.FROM_PCPF&&(0,u.B8)(k,k),e){case R.NORMAL:return(0,o.Ge)(f,k);case R.TANGENT:return(0,o.z0)(f,k)}}function C(t,e,r,n,o,f,u){if(!e)return;const i=n.count,l=(0,s.lO)(f);if(G(f))for(let a=0;a<i;a++)o.getVec(a,V),e.getVec(a,X),(0,c.t)(X,X,j(t,r,V,l,L)),u.setVec(a,X);else for(let a=0;a<i;a++){o.getVec(a,V),e.getVec(a,X);const f=(0,T.jg)(n.get(a,1));let i=Math.cos(f);r===R.TANGENT!=(t===x.TO_PCPF)&&(i=1/i),j(t,r,V,l,L),t===x.TO_PCPF?(L[0]*=i,L[1]*=i,L[2]*=i,L[3]*=i,L[4]*=i,L[5]*=i):(L[0]*=i,L[3]*=i,L[6]*=i,L[1]*=i,L[4]*=i,L[7]*=i),(0,c.t)(X,X,L),(0,c.n)(X,X),u.setVec(a,X)}return u}function b(t){return"local"===t.vertexSpace.type?w(t):z(t)}function w({vertexSpace:t,transform:e,inSpatialReference:r,outSpatialReference:n,localMode:o,outPositions:f,positions:c}){const m=t.origin??l.uY,T=null!=t.origin?e?.localMatrix??i.zK:i.zK,g=(0,s.lO)(r),h=n.isWebMercator&&o||!(0,a.canProjectWithoutEngine)(r,g)?r:g;(0,p.l)(r,m,k,h),(0,u.lw)(k,k,T);const P=f??(0,y.jh)(c.length);return(0,A.a)(P,c,k),(0,d.projectBuffer)(P,h,0,P,n,0,P.length/3),P}function z({vertexSpace:t,transform:e,outPositions:r,positions:n,inSpatialReference:o,outSpatialReference:f}){const a=null!=t.origin?e?.localMatrix??i.zK:i.zK,s=r??(0,y.jh)(n.length);(0,u.aI)(a,i.zK)?(0,y.s)(s,n):(0,A.a)(s,n,a);const p=t.origin??l.uY;if(!(0,c.e)(p,l.uY)){const[t,e,r]=p;for(let n=0;n<s.length;n+=3)s[n]+=t,s[n+1]+=e,s[n+2]+=r}return(0,d.projectBuffer)(s,o,0,s,f,0,s.length/3)?s:null}function G(t){return t.isWGS84||(0,m.x1)(t)||(0,m.q8)(t)||(0,m.KQ)(t)}!function(t){t[t.NORMAL=0]="NORMAL",t[t.TANGENT=1]="TANGENT"}(R||(R={})),function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(x||(x={}));const V=(0,l.vt)(),X=(0,l.vt)(),k=(0,i.vt)(),L=(0,f.vt)()}}]);
//# sourceMappingURL=6636.d41bf6eb.js.map