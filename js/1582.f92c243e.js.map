{"version":3,"file":"js/1582.f92c243e.js","mappings":"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","sources":["webpack://vue-arcgis-0905/./node_modules/@arcgis/core/layers/IntegratedMesh3DTilesLayer.js","webpack://vue-arcgis-0905/./node_modules/@arcgis/core/layers/mixins/APIKeyMixin.js","webpack://vue-arcgis-0905/./node_modules/@arcgis/core/layers/mixins/ArcGISService.js","webpack://vue-arcgis-0905/./node_modules/@arcgis/core/layers/mixins/CustomParametersMixin.js","webpack://vue-arcgis-0905/./node_modules/@arcgis/core/layers/mixins/PortalLayer.js","webpack://vue-arcgis-0905/./node_modules/@arcgis/core/portal/support/portalItemUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../request.js\";import r from\"../core/Error.js\";import i from\"../core/Logger.js\";import{rad2deg as o}from\"../core/mathUtils.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as a}from\"../core/promiseUtils.js\";import{property as n}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as m}from\"../core/accessorSupport/decorators/subclass.js\";import{f as p,g as l,h as c,c as f,y,C as h,z as u}from\"../chunks/vec32.js\";import{fromValues as d,create as x}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{WGS84ECEFSpatialReferenceLike as g}from\"../geometry/ellipsoidUtils.js\";import v from\"../geometry/Extent.js\";import j from\"../geometry/SpatialReference.js\";import{projectBuffer as A}from\"../geometry/projection/projectBuffer.js\";import b from\"./Layer.js\";import{APIKeyMixin as L}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as S}from\"./mixins/ArcGISService.js\";import{CustomParametersMixin as _}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as w}from\"./mixins/OperationalLayer.js\";import{PortalLayer as E}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as I}from\"./mixins/ScaleRangeLayer.js\";import{elevationInfo as M,url as R}from\"./support/commonProperties.js\";import{logInvalidElevationInfoWarning as T,elevationModeRequiredMessage as U,featureExpressionUnsupportedMessage as N}from\"../support/elevationInfoUtils.js\";let D=class extends(S(w(E(I(s(_(L(b)))))))){constructor(e){super(e),this.operationalLayerType=\"IntegratedMesh3DTilesLayer\",this.spatialReference=new j({wkid:4326,vcsWkid:115700}),this.fullExtent=new v(-180,-90,180,90,this.spatialReference),this.url=null,this.type=\"integrated-mesh-3dtiles\",this.path=null,this.minScale=0,this.maxScale=0}set elevationInfo(e){this._set(\"elevationInfo\",e),this._validateElevationInfo()}_verifyArray(e,t){if(!Array.isArray(e)||e.length<t)return!1;for(const r of e)if(\"number\"!=typeof r)return!1;return!0}_initFullExtent(e){const t=e.root?.boundingVolume;if(!t)return;if(t.box){const e=t?.box;if(e[3]>7972671&&e[7]>7972671&&e[11]>7945940)return}const r=e.root?.transform,i=x();if(t.region&&this._verifyArray(t.region,6)){const e=t.region,r=o(e[0]),i=o(e[1]),s=e[4],a=o(e[2]),n=o(e[3]),m=e[5];this.fullExtent=new v({xmin:r,ymin:i,zmin:s,xmax:a,ymax:n,zmax:m,spatialReference:this.spatialReference})}else if(t.sphere&&this._verifyArray(t.sphere,4)){const e=t.sphere,o=d(e[0],e[1],e[2]),s=e[3]/Math.sqrt(3),a=x();p(a,o,d(s,s,s));const n=x();if(l(n,o,d(s,s,s)),r&&this._verifyArray(r,16)){const e=r;c(i,a,e),f(a,i),c(i,n,e),f(n,i)}A(a,g,0,a,j.WGS84,0,1),A(n,g,0,n,j.WGS84,0,1);const m=x(),u=x();y(m,a,n),h(u,a,n),this.fullExtent=new v({xmin:m[0],ymin:m[1],zmin:m[2],xmax:u[0],ymax:u[1],zmax:u[2],spatialReference:this.spatialReference})}else if(t.box&&this._verifyArray(t.box,12)){const e=t.box,i=d(e[0],e[1],e[2]),o=d(e[3],e[4],e[5]),s=d(e[6],e[7],e[8]),a=d(e[9],e[10],e[11]),n=[];for(let t=0;t<8;++t)n.push(x());if(l(n[0],i,o),l(n[0],n[0],s),l(n[0],n[0],a),u(n[1],i,o),l(n[1],n[1],s),l(n[1],n[1],a),l(n[2],i,o),u(n[2],n[2],s),l(n[2],n[2],a),u(n[3],i,o),u(n[3],n[3],s),l(n[3],n[3],a),l(n[4],i,o),l(n[4],n[4],s),u(n[4],n[4],a),u(n[5],i,o),l(n[5],n[5],s),u(n[5],n[5],a),l(n[6],i,o),u(n[6],n[6],s),u(n[6],n[6],a),u(n[7],i,o),u(n[7],n[7],s),u(n[7],n[7],a),r&&this._verifyArray(r,16)){const e=r;for(let t=0;t<8;++t)c(n[t],n[t],e)}const m=d(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),p=d(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let t=0;t<8;++t)A(n[t],g,0,n[t],j.WGS84,0,1),y(p,p,n[t]),h(m,m,n[t]);this.fullExtent=new v({xmin:p[0],ymin:p[1],zmin:p[2],xmax:m[0],ymax:m[1],zmax:m[2],spatialReference:this.spatialReference})}}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const i=null!=e?e.signal:null;try{await this.loadFromPortal({supportedTypes:[\"3DTiles Service\"],validateItem:e=>{if(e.typeKeywords?.includes(\"IntegratedMesh\"))return!0;throw new r(\"portal:invalid-layer-item-type\",\"Invalid layer item, expected '${expectedType}' \",{expectedType:\"3DTiles Service containing IntegratedMesh\"})}},e)}catch(o){a(o)}if(this.url){const e=t(this.url,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:i}).then((e=>{this._initFullExtent(e.data)}),(e=>{a(e)}));await e}}async fetchAttributionData(){return this.load().then((()=>({})))}_validateElevationInfo(){const e=this.elevationInfo,t=\"Integrated mesh 3d tiles layers\";T(i.getLogger(this),U(t,\"absolute-height\",e)),T(i.getLogger(this),N(t,e))}};e([n({type:[\"IntegratedMesh3DTilesLayer\"]})],D.prototype,\"operationalLayerType\",void 0),e([n({type:j})],D.prototype,\"spatialReference\",void 0),e([n({type:v})],D.prototype,\"fullExtent\",void 0),e([n(M)],D.prototype,\"elevationInfo\",null),e([n({type:[\"show\",\"hide\"]})],D.prototype,\"listMode\",void 0),e([n(R)],D.prototype,\"url\",void 0),e([n({readOnly:!0})],D.prototype,\"type\",void 0),e([n({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0},\"portal-item\":{read:!0,write:!0}},read:!1}})],D.prototype,\"path\",void 0),e([n({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:!1,write:!1}}}})],D.prototype,\"minScale\",void 0),e([n({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:!1,write:!1}}}})],D.prototype,\"maxScale\",void 0),D=e([m(\"esri.layers.IntegratedMesh3DTilesLayer\")],D);const z=D;export{z as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";function s(e){return\"portalItem\"in e}const i=i=>{let o=class extends i{get apiKey(){return this._isOverridden(\"apiKey\")?this._get(\"apiKey\"):s(this)?this.portalItem?.apiKey:null}set apiKey(e){null!=e?this._override(\"apiKey\",e):(this._clearOverride(\"apiKey\"),this.clear(\"apiKey\",\"user\"))}};return e([r({type:String})],o.prototype,\"apiKey\",null),o=e([t(\"esri.layers.mixins.APIKeyMixin\")],o),o};export{i as APIKeyMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Logger.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{parse as i,sanitizeUrl as o}from\"../support/arcgisLayerUrl.js\";const l=l=>{let p=class extends l{get title(){if(this._get(\"title\")&&\"defaults\"!==this.originOf(\"title\"))return this._get(\"title\");if(this.url){const t=i(this.url);if(null!=t&&t.title)return t.title}return this._get(\"title\")||\"\"}set title(t){this._set(\"title\",t)}set url(t){this._set(\"url\",o(t,r.getLogger(this)))}};return t([e()],p.prototype,\"title\",null),t([e({type:String})],p.prototype,\"url\",null),p=t([s(\"esri.layers.mixins.ArcGISService\")],p),p};export{l as ArcGISService};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";const e=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return r([o({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],t.prototype,\"customParameters\",void 0),t=r([s(\"esri.layers.mixins.CustomParametersMixin\")],t),t};export{e as CustomParametersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../config.js\";import{id as r}from\"../../kernel.js\";import s from\"../../request.js\";import{result as i}from\"../../core/asyncUtils.js\";import o from\"../../core/Error.js\";import a from\"../../core/Logger.js\";import{destroyMaybe as l}from\"../../core/maybe.js\";import{throwIfAborted as n,isAbortError as p,throwIfAbortError as u}from\"../../core/promiseUtils.js\";import{hasSameCanonicalPortal as c,normalize as d,hasSamePortal as m}from\"../../core/urlUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as f}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as g}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as y}from\"../../core/accessorSupport/decorators/writer.js\";import{getOwningPortalUrl as I}from\"../support/layerUtils.js\";import v from\"../../portal/Portal.js\";import P from\"../../portal/PortalItem.js\";import w from\"../../portal/PortalUser.js\";import{getUserPrivileges as U}from\"../../portal/support/portalItemUtils.js\";const j=j=>{let _=class extends j{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=l(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get(\"portalItem\")&&(this.removeOrigin(\"portal-item\"),this._set(\"portalItem\",t))}readPortalItem(t,e,r){if(e.itemId)return new P({id:e.itemId,portal:r?.portal})}writePortalItem(t,e){t?.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem?.id)try{const{load:r}=await import(\"../../portal/support/layersLoader.js\");return n(e),await r({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap},e)}catch(r){throw p(r)||a.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\\n  ${r}`),r}}async finishLoadEditablePortalLayer(t){this._set(\"userHasEditingPrivileges\",await this._fetchUserHasEditingPrivileges(t).catch((t=>(u(t),!0))))}async setUserPrivileges(t,r){if(!e.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(r);if(this.url)try{const{features:{edit:e,fullEdit:s},content:{updateItem:i}}=await this._fetchUserPrivileges(t,r);this._set(\"userHasEditingPrivileges\",e),this._set(\"userHasFullEditingPrivileges\",s),this._set(\"userHasUpdateItemPrivileges\",i)}catch(s){u(s)}}async _fetchUserPrivileges(t,e){let s=this.portalItem;if(!t||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(e);const i=t===s.id;if(i&&s.portal.user)return U(s);let o,a;if(i)o=s.portal.url;else try{o=await I(this.url,e)}catch(d){u(d)}if(!o||!c(o,s.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;a=await(r?.getCredential(`${o}/sharing`,{prompt:!1,signal:t}))}catch(d){u(d)}const l=!0,n=!1,p=!1;if(!a)return{features:{edit:l,fullEdit:n},content:{updateItem:p}};try{if(i?await s.reload():(s=new P({id:t,portal:{url:o}}),await s.load(e)),s.portal.user)return U(s)}catch(d){u(d)}return{features:{edit:l,fullEdit:n},content:{updateItem:p}}}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(r){u(r)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?r?.findCredential(this.url):null;if(!e)return!0;const s=E.credential===e?E.user:await this._fetchEditingUser(t);return E.credential=e,E.user=s,null==s?.privileges||s.privileges.includes(\"features:user:edit\")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const o=r?.findServerInfo(this.url??\"\");if(!o?.owningSystemUrl)return null;const a=`${o.owningSystemUrl}/sharing/rest`,l=v.getDefault();if(l&&l.loaded&&d(l.restUrl)===d(a))return l.user;const n=`${a}/community/self`,p=null!=t?t.signal:null,u=await i(s(n,{authMode:\"no-prompt\",query:{f:\"json\"},signal:p}));return u.ok?w.fromJSON(u.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const r=e?.portal,s=this.portalItem?.id&&(this.portalItem.portal||v.getDefault());return r&&s&&!m(s.restUrl,r.restUrl)?(e.messages&&e.messages.push(new o(\"layer:cross-portal\",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return t([h({type:P})],_.prototype,\"portalItem\",null),t([f(\"web-document\",\"portalItem\",[\"itemId\"])],_.prototype,\"readPortalItem\",null),t([y(\"web-document\",\"portalItem\",{itemId:{type:String}})],_.prototype,\"writePortalItem\",null),t([h({clonable:!1})],_.prototype,\"resourceReferences\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasEditingPrivileges\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasFullEditingPrivileges\",void 0),t([h({type:Boolean,readOnly:!0})],_.prototype,\"userHasUpdateItemPrivileges\",void 0),_=t([g(\"esri.layers.mixins.PortalLayer\")],_),_},E={credential:null,user:null};export{j as PortalLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{initializeProjection as e,project as t}from\"../../geometry/projection.js\";import r from\"../../geometry/SpatialReference.js\";import{webMercatorToGeographic as n}from\"../../geometry/support/webMercatorUtils.js\";async function o(o){const i=o.spatialReference;if(i.isWGS84)return o.clone();if(i.isWebMercator)return n(o);const s=r.WGS84;return await e(i,s),t(o,s)}function i(e,t){if(!s(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function s(e,t){return!!e.typeKeywords?.includes(t)}function c(e){return s(e,f.HOSTED_SERVICE)}function a(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}function u(e,t,r){r?i(e,t):a(e,t)}async function l(e){const t=e.clone().normalize();let r;if(t.length>1)for(const n of t)r?n.width>r.width&&(r=n):r=n;else r=t[0];return o(r)}const f={DEVELOPER_BASEMAP:\"DeveloperBasemap\",JSAPI:\"ArcGIS API for JavaScript\",METADATA:\"Metadata\",MULTI_LAYER:\"Multilayer\",SINGLE_LAYER:\"Singlelayer\",TABLE:\"Table\",HOSTED_SERVICE:\"Hosted Service\",LOCAL_SCENE:\"ViewingMode-Local\",TILED_IMAGERY:\"Tiled Imagery\",GROUP_LAYER_MAP:\"Map\"};function p(e){const{portal:t,isOrgItem:r,itemControl:n}=e,o=t.user?.privileges;let i=!o||o.includes(\"features:user:edit\"),s=!!r&&!!o?.includes(\"features:user:fullEdit\");const c=\"update\"===n||\"admin\"===n;return c?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:c}}}export{i as addTypeKeyword,p as getUserPrivileges,l as getWGS84ExtentForItem,s as hasTypeKeyword,c as isHostedLayer,a as removeTypeKeyword,u as toggleTypeKeyword,f as typeKeyword};\n"],"names":["D","S","w","E","I","s","_","L","b","constructor","e","super","this","operationalLayerType","spatialReference","j","wkid","vcsWkid","fullExtent","v","url","type","path","minScale","maxScale","elevationInfo","_set","_validateElevationInfo","_verifyArray","t","Array","isArray","length","r","_initFullExtent","root","boundingVolume","box","transform","i","x","region","o","a","n","m","xmin","ymin","zmin","xmax","ymax","zmax","sphere","d","Math","sqrt","p","l","c","f","A","g","WGS84","u","y","h","push","Number","MAX_VALUE","load","addResolvingPromise","_doLoad","signal","loadFromPortal","supportedTypes","validateItem","typeKeywords","includes","expectedType","query","customParameters","token","apiKey","responseType","then","data","fetchAttributionData","T","getLogger","U","N","prototype","M","R","readOnly","String","json","origins","read","write","name","service","z","_isOverridden","_get","portalItem","_override","_clearOverride","clear","title","originOf","arguments","Object","overridePolicy","enabled","keys","resourceReferences","paths","userHasEditingPrivileges","userHasFullEditingPrivileges","userHasUpdateItemPrivileges","destroy","removeOrigin","readPortalItem","itemId","P","id","portal","writePortalItem","instance","supportsData","layerModuleTypeMap","warn","finishLoadEditablePortalLayer","_fetchUserHasEditingPrivileges","catch","setUserPrivileges","userPrivilegesApplied","features","edit","fullEdit","content","updateItem","_fetchUserPrivileges","loaded","sourceUrl","_fetchFallbackUserPrivileges","user","getCredential","prompt","reload","findCredential","credential","_fetchEditingUser","privileges","findServerInfo","owningSystemUrl","getDefault","restUrl","authMode","ok","fromJSON","value","layer","messages","clonable","Boolean","async","isWGS84","clone","isWebMercator","HOSTED_SERVICE","indexOf","splice","normalize","width","DEVELOPER_BASEMAP","JSAPI","METADATA","MULTI_LAYER","SINGLE_LAYER","TABLE","LOCAL_SCENE","TILED_IMAGERY","GROUP_LAYER_MAP","isOrgItem","itemControl"],"sourceRoot":""}