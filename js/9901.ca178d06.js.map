{"version":3,"file":"js/9901.ca178d06.js","mappings":"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","sources":["webpack://vue-arcgis-0905/./node_modules/@arcgis/core/layers/graphics/editingSupport.js","webpack://vue-arcgis-0905/./node_modules/@arcgis/core/layers/mixins/EditBusLayer.js","webpack://vue-arcgis-0905/./node_modules/@arcgis/core/layers/support/infoFor3D.js","webpack://vue-arcgis-0905/./node_modules/@arcgis/core/versionManagement/support/versionManagementUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{getMimeTypeFormatId as y,getFilenameFormatId as g}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as b,getEffectiveLayerCapabilities as w}from\"../support/layerUtils.js\";function F(e){return null!=e?.applyEdits}function A(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function v(e){return e.every(A)}function I(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function $(e){return e.every(I)}async function E(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await S(e,t,a,s),l=e=>e.filter((e=>!e.error)).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function S(e,t,r,s){if(await e.load(),!F(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!b(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await R(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function R(e,t,r){const i=w(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(M(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=V(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>T(e,t)))}u.addFeatures.forEach((t=>U(t,e,p,c))),u.updateFeatures.forEach((t=>L(t,e,p,c))),u.deleteFeatures.forEach((t=>k(t,e,p,c))),u.addAttachments.forEach((t=>B(t,e))),u.updateAttachments.forEach((t=>B(t,e))),l&&await z(u,e);return{edits:await D(u),options:d}}function j(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function O(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function U(e,t,a,r){j(e,t,a,r),O(e,t)}function k(e,t,a,r){j(e,t,a,r)}function L(e,t,r,s){j(e,t,r,s),O(e,t);const i=w(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function B(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function D(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach(((e,a)=>t[a].geometry=e)),s.slice(i,i+n).forEach(((e,t)=>a[t].geometry=e)),e}function G(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function V(e,t,r){const s=G(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(x),s.updateFeatures=s.updateFeatures.map(x),s.addAssetFeatures=[],s}function M(e,t,r,s,i,n){if(!e||!s&&!i)throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function x(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function z(e,t){if(null==t.infoFor3D)return;const{infoFor3D:r}=t,s=y(\"model/gltf-binary\",r.supportedFormats)??g(\"glb\",r.supportedFormats);if(!(!!s&&r.editFormats.includes(s)))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:i}=e;for(const a of e.addFeatures??[])q(a)&&i.push(a);for(const a of e.updateFeatures??[])q(a)&&i.push(a)}function q(e){return\"mesh\"===e?.geometry?.type}function W(e,t,r,s){if(!F(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{E as applyEdits,M as checkEditingCapabilities,$ as isFeatureIdentifierArrayWithGlobalId,v as isFeatureIdentifierArrayWithObjectId,I as isFeatureIdentifierWithGlobalId,A as isFeatureIdentifierWithObjectId,G as normalizeCollections,V as normalizeEdits,D as normalizeGeometries,x as shallowCloneFeature,W as uploadAssets};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Evented.js\";import{clone as i}from\"../../core/lang.js\";import{createResolver as s}from\"../../core/promiseUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import{defaultVersionNameLookup as o,isVersionInEditSession as n}from\"../../versionManagement/support/versionManagementUtils.js\";const a=new e.EventEmitter;function l(t){return a.on(\"apply-edits\",new WeakRef(t))}function h(t){return a.on(\"update-moment\",new WeakRef(t))}function c(t,e,i=null,r=!1){const d=s();return r=null==e||r,a.emit(\"apply-edits\",{serviceUrl:t,layerId:e,gdbVersion:i,mayReceiveServiceEdits:r,result:d.promise}),d}function u(t,e,i=null,s){a.emit(\"update-moment\",{serviceUrl:t,layerId:e,gdbVersion:i,moment:s})}const m=Symbol();function p(t){return null!=t&&\"object\"==typeof t&&m in t}function b(t){return null!=t&&\"object\"==typeof t&&\"gdbVersion\"in t}function g(t,e,i){const s=new URL(t).host,r=o.get(s),d=t=>!t||t===r;return d(e)&&d(i)||e===i}const F=e=>{var s;let o=class extends e{constructor(...t){super(...t),this[s]=!0,this._applyEditsHandler=t=>{const{serviceUrl:e,layerId:s,gdbVersion:r,mayReceiveServiceEdits:d,result:o}=t,n=e===this.url,a=null!=s&&null!=this.layerId&&s===this.layerId,l=b(this),h=b(this)&&g(e,r,this.gdbVersion);if(!n||l&&!h||!a&&!d)return;const c=o.then((t=>{if(this.lastEditsEventDate=new Date,a&&(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length))return this.emit(\"edits\",i(t)),t;const s=t.editedFeatures?.find((({layerId:t})=>t===this.layerId));if(s){const{adds:e,updates:r,deletes:d}=s.editedFeatures,o={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:e?e.map((({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],deletedFeatures:d?d.map((({attributes:t})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],updatedFeatures:r?r.map((({current:{attributes:t}})=>({objectId:this.objectIdField&&t[this.objectIdField],globalId:this.globalIdField&&t[this.globalIdField]}))):[],editedFeatures:i(t.editedFeatures),exceededTransferLimit:!1,historicMoment:i(t.historicMoment)};return this.emit(\"edits\",o),o}const d={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:i(t.editedFeatures),exceededTransferLimit:!1,historicMoment:i(t.historicMoment)};return\"historicMoment\"in this&&this._shouldUpdateHistoricMoment(e,r,d.historicMoment)&&this.emit(\"edits\",d),d})).then((t=>(\"historicMoment\"in this&&this._shouldUpdateHistoricMoment(e,r,t.historicMoment)&&(this.historicMoment=t.historicMoment),t)));this.emit(\"apply-edits\",{result:c})},this._updateMomentHandler=t=>{const{serviceUrl:e,gdbVersion:i,moment:s}=t,r=e===this.url,d=b(this),o=b(this)&&g(e,i,this.gdbVersion),n=b(this)&&!g(e,this.gdbVersion,null);r&&d&&o&&n&&\"historicMoment\"in this&&this.historicMoment!==s&&(this.historicMoment=s)},this.when().then((()=>{this.addHandles(l(this._applyEditsHandler)),\"historicMoment\"in this&&this.addHandles(h(this._updateMomentHandler))}),(()=>{}))}_shouldUpdateHistoricMoment(t,e,i){return\"historicMoment\"in this&&this.historicMoment!==i&&n(t,e)}};return s=m,t([r()],o.prototype,\"lastEditsEventDate\",void 0),o=t([d(\"esri.layers.mixins.EditBusLayer\")],o),o};export{F as EditBusLayer,c as emitApplyEditsEvent,u as emitUpdateMomentEvent,p as isEditBusLayer,b as isLayerWithGDBVersion,l as onApplyEditsEvent,h as onUpdateMomentEvent,g as versionMatches};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nconst n=[[\"binary\",\"application/octet-stream\",\"bin\",\"\"]];function t(n,t){return null!=d(t.name,n?.supportedFormats??[])}function r(n,t){if(!n)return!1;const r=c(t,n.supportedFormats??[]);return null!=r&&n.editFormats.includes(r)}function o(n){return a(n?.supportedFormats??[]).flatMap(w).map((n=>`.${n}`))}function e(n){const t={};for(const r of a(n?.supportedFormats??[])){const[n,o]=l(r).split(\";\"),e=n.trim().toLowerCase(),u=w(r).map((n=>`.${n}`));t[e]??=[],t[e].push(...u)}return{description:\"3D Models\",accept:t}}function u(n,t){return m(p(n,t))}function i(n,t){return m(d(n,t))}function s(n,t){return l(f(n,t))}function c(n,t){return i(n.name,t)??u(n.type,t)}function a(t){return[...n,...t]}function f(n,t){return a(t).find((t=>m(t)===n))}function p(n,t){const r=n.toLowerCase();return a(t).find((n=>l(n)===r))}function d(n,t){const r=n.toLowerCase();return a(t).find((n=>w(n).some((n=>r.endsWith(n)))))}function m(n){return n?.[0]}function l(n){return n?.[1].toLowerCase()}function w(n){return n?.[2].split(\",\").map((n=>n.toLowerCase()))??[]}function C(n){return n?.[3]}function F(n){return n.tables?.find((n=>\"assetMaps\"===n.role))}export{F as getAssetMapTable,c as getFileFormatId,e as getFilePickerAcceptType,i as getFilenameFormatId,C as getFormatDescription,w as getFormatExtensions,m as getFormatId,s as getFormatIdMimeType,l as getFormatMimeType,u as getMimeTypeFormatId,o as getSupportedExtensions,r as isFileEditFormat,t as isFileSupported};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import{generateLowercaseBracedUUID as r}from\"../../core/uuid.js\";const t=r(),n=new Map,s=new Map,a=new Map;async function o(r,t,s){if(!r||!s)return!1;if(!t)return!0;const a=new URL(r).host;let o=n.get(a);if(!o){const t=r.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\");o=(await e(t,{responseType:\"json\",query:{f:\"json\"}})).data.defaultVersionName}return o===t}async function i(e,r,n=!1){if(!e||!r)return!0;const a=e.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\"),o=s.get(a)?.entries();if(o)for(const[s,i]of o)if(i.name===r){const e=!i.stack?.hasForwardEdits();if(!e&&n){const[{deleteForwardEdits:e},{default:r}]=await Promise.all([import(\"../../rest/versionManagement/gdbVersion/deleteForwardEdits.js\"),import(\"../../rest/versionManagement/gdbVersion/support/DeleteForwardEditsParameters.js\")]),n=await e(a,s,new r({sessionId:t,moment:i.moment}));return n.success&&i.stack?.clearForwardEdits(),n.success}return e}return!0}function c(e,r){if(!e)return!1;const t=e.replace(/\\/FeatureServer/i,\"/VersionManagementServer\").replace(/\\/\\d*$/,\"\"),n=s.get(t)?.entries();if(n)for(const[s,a]of n)if(a.name===r){return\"edit\"===a.lockType}return!1}export{t as currentSessionId,n as defaultVersionNameLookup,o as isHistoricVersion,i as isSafeToEditVersion,c as isVersionInEditSession,s as versionCollection,a as versionCollectionCount};\n"],"names":["F","e","applyEdits","A","objectId","v","every","I","globalId","$","async","E","t","a","s","n","o","gdbVersion","l","h","url","m","layerId","returnServiceEditsOption","i","promise","then","addedFeatures","length","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","results","edits","S","filter","error","map","r","d","addFeatureResults","updateFeatureResults","deleteFeatureResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","exceededTransferLimit","historicMoment","editMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","load","type","layer","b","options","R","addFeatures","updateFeatures","deleteFeatures","addAttachments","updateAttachments","deleteAttachments","w","infoFor3D","M","data","isVersioned","editing","supportsRollbackOnFailure","rollbackOnFailureEnabled","getLogger","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","u","V","p","globalIdUsed","c","fields","globalIdField","forEach","T","U","L","k","B","z","D","j","attributes","name","f","Number","MAX_SAFE_INTEGER","feature","geometry","hasZ","capabilities","supportsZ","hasM","supportsM","O","spatialReference","vertexSpace","wkid","supportsGeometryUpdate","attachment","uploadId","File","supportsUploadWithItemId","isBase64","concat","slice","G","Array","from","isCollection","toArray","operations","supportsAdd","supportsUpdate","supportsDelete","x","addAssetFeatures","supportsGlobalId","y","supportedFormats","g","editFormats","includes","q","push","W","uploadAssets","EventEmitter","on","WeakRef","serviceUrl","mayReceiveServiceEdits","Symbol","URL","host","get","constructor","super","this","_applyEditsHandler","lastEditsEventDate","find","adds","updates","deletes","objectIdField","current","_shouldUpdateHistoricMoment","_updateMomentHandler","moment","when","addHandles","prototype","toLowerCase","some","endsWith","split","tables","role","Map","replace","responseType","query","defaultVersionName","entries","stack","hasForwardEdits","deleteForwardEdits","default","Promise","all","sessionId","success","clearForwardEdits","lockType"],"sourceRoot":""}