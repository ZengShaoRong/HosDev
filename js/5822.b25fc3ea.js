"use strict";(self["webpackChunkvue_arcgis_0905"]=self["webpackChunkvue_arcgis_0905"]||[]).push([[5822,9888,5670,1282,3925],{71897:function(e,t,i){i.d(t,{q:function(){return r}});var n=i(54401);class r{constructor(e,t){this._storage=new n.F,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,i=1){this._storage.put(this,e,t,i,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},54401:function(e,t,i){i.d(t,{F:function(){return l},Mn:function(){return a}});i(44114);var n=i(73405);const r=-3,o=r-1;var s;!function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"}(s||(s={}));class a{constructor(e,t,i){this.name=e,this._storage=t,this.id=c+++":",this.size=0,this.maxSize=-1,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),i&&(this._storage.registerRemoveFunc(this.id,i),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(e){return this._storage.getSize(this,e)}resetHitRate(){this._hit=this._miss=0}put(e,t,i,n=0){this._storage.put(this,e,t,i,n)}pop(e){const t=this._storage.pop(this,e);return void 0===t?++this._miss:++this._hit,t}get(e){const t=this._storage.get(this,e);return void 0===t?++this._miss:++this._hit,t}peek(e){return this._storage.peek(this,e)}updateSize(e,t,i){this._storage.updateSize(this,e,t,i)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class l{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new n.A,this._users=new n.A}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){const i=this._db.get(e.id+t);return i?.size??0}put(e,t,i,n,a){t=e.id+t;const l=this._db.get(t);if(l&&(this._size-=l.size,e.size-=l.size,this._db.delete(t),l.entry!==i&&this._notifyRemove(t,l.entry,l.size,s.ALL)),n>this._maxSize)return void this._notifyRemove(t,i,n,s.ALL);if(void 0===i)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return console.warn(`Refusing to cache entry with size ${n} for key ${t}`),void this._notifyRemove(t,i,0,s.ALL);const c=1+Math.max(a,o)-r;this._db.set(t,new u(i,n,c)),this._size+=n,e.size+=n,this._checkSize()}updateSize(e,t,i,n){t=e.id+t;const r=this._db.get(t);if(r&&r.entry===i){for(this._size-=r.size,e.size-=r.size;n>this._maxSize;){const e=this._notifyRemove(t,i,n,s.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);n=e}r.size=n,this._size+=n,e.size+=n,this._checkSize()}}pop(e,t){t=e.id+t;const i=this._db.get(t);if(i)return this._size-=i.size,e.size-=i.size,this._db.delete(t),++this._hit,i.entry;++this._miss}get(e,t){t=e.id+t;const i=this._db.get(t);if(void 0!==i)return this._db.delete(t),i.lives=i.lifetime,this._db.set(t,i),++this._hit,i.entry;++this._miss}peek(e,t){const i=this._db.get(e.id+t);return i?++this._hit:++this._miss,i?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},i=new Array;this._db.forEach(((e,n)=>{const r=e.lifetime;i[r]=(i[r]||0)+e.size,this._users.forAll((i=>{const{id:r,name:o}=i;if(n.startsWith(r)){const i=t[o]||0;t[o]=i+e.size}}))}));const n={};this._users.forAll((e=>{const i=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const r=t[i]||0;t[i]=r,n[i]=Math.round(100*e.hitRate)+"%"}else n[i]="0%"}));const o=Object.keys(t);o.sort(((e,i)=>t[i]-t[e])),o.forEach((i=>e[i]=Math.round(t[i]/2**20)+"MB / "+n[i]));for(let s=i.length-1;s>=0;--s){const t=i[s];t&&(e["Priority "+(s+r-1)]=Math.round(t/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,i)=>{i.startsWith(t)&&(this._size-=e.size,this._db.delete(i),this._notifyRemove(i,e.entry,e.size,s.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,s.ALL))),this._users.forAll((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,i,n){let r;return this._removeFuncs.some((o=>{if(e.startsWith(o[0])){const e=o[1](t,n,i);return"number"==typeof e&&(r=e),!0}return!1})),r}_checkSize(){this._users.forAll((e=>this._checkSizeLimits(e))),this._checkSizeLimits()}_checkSizeLimits(e){const t=e??this;if(t.maxSize<0||t.size<=t.maxSize)return;const i=e?.id;let n=!0;for(;n;){n=!1;for(const[r,o]of this._db)if(0===o.lifetime&&(!i||r.startsWith(i))){if(this._purgeItem(r,o,e),t.size<=.9*t.maxSize)return;n||=this._db.has(r)}}for(const[r,o]of this._db)if((!i||r.startsWith(i))&&(this._purgeItem(r,o,e),t.size<=.9*t.maxSize))return}_purgeItem(e,t,i=this._users.find((t=>e.startsWith(t.id)))){if(this._db.delete(e),t.lives<=1){this._size-=t.size,i&&(i.size-=t.size);const n=this._notifyRemove(e,t.entry,t.size,s.SOME);null!=n&&n>0&&(this._size+=n,i&&(i.size+=n),t.lives=t.lifetime,t.size=n,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}let c=0;class u{constructor(e,t,i){this.entry=e,this.size=t,this.lifetime=i,this.lives=i}}},59888:function(e,t,i){i.d(t,{GB:function(){return r},Qo:function(){return s},Y4:function(){return o}});var n=i(14116);class r{}function o(e){return e instanceof n.bo?e===r.instance:"unknown"===e?.toString().toLowerCase()}function s(e){return o(e)?r.instance:e}r.instance=new n.oh("Etc/UTC")},21839:function(e,t,i){i.d(t,{$X:function(){return I},Gy:function(){return v},P5:function(){return C},SW:function(){return b},Tr:function(){return w},VV:function(){return n}});i(44114),i(55910);function n(e){return e?{originPosition:"upper-left"===e.originPosition?"upperLeft":"lower-left"===e.originPosition?"lowerLeft":e.originPosition,scale:e.tolerance?[e.tolerance,e.tolerance,1,1]:[1,1,1,1],translate:null!=e.extent?[e.extent.xmin,e.extent.ymax,e.extent.zmin??0,e.extent.mmin??0]:[0,0,0,0]}:null}function r(e){return"lowerLeft"===e.originPosition&&4===e.scale.length&&4===e.translate.length}function o(e){if(r(e))return e;const{originPosition:t,scale:i,translate:n}=e,o=i[0]??1,s=i[1]??1;return{originPosition:"lowerLeft",scale:[o,"lowerLeft"===t?s:-s,i[2]??1,i[3]??1],translate:[n[0]??0,n[1]??0,n[2]??0,n[3]??0]}}function s({scale:e,translate:t},i){return Math.round((i-t[0])/e[0])}function a({scale:e,translate:t},i){return Math.round((i-t[1])/e[1])}function l({scale:e,translate:t},i){return Math.round(((i??0)-t[2])/e[2])}function c({scale:e,translate:t},i){return i?Math.round((i-t[3])/e[3]):0}function u({scale:e,translate:t},i){return i*e[0]+t[0]}function f({scale:e,translate:t},i){return i*e[1]+t[1]}function p({scale:e,translate:t},i){return(i??0)*e[2]+t[2]}function h({scale:e,translate:t},i){return i?i*e[3]+t[3]:0}function d(e,t){return e&&t?M:e&&!t?y:!e&&t?g:m}const m=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let r=u(e,n[0]),o=f(e,n[1]);i[0]=[r,o];const{scale:s,originPosition:a}=e,l=s[0],c="lowerLeft"===a?s[1]:-s[1];for(let u=1;u<t.length;u++){const[e,n]=t[u];r+=l*e,o+=c*n,i[u]=[r,o]}return i},y=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let r=u(e,n[0]),o=f(e,n[1]);i[0]=[r,o,p(e,n[2])];const{scale:s,originPosition:a}=e,l=s[0],c="lowerLeft"===a?s[1]:-s[1];for(let u=1;u<t.length;u++){const[n,s,a]=t[u];r+=l*n,o+=c*s,i[u]=[r,o,p(e,a)]}return i},g=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let r=u(e,n[0]),o=f(e,n[1]);i[0]=[r,o,h(e,n[2])];const{scale:s,originPosition:a}=e,l=s[0],c="lowerLeft"===a?s[1]:-s[1];for(let u=1;u<t.length;u++){const[n,s,a]=t[u];r+=l*n,o+=c*s,i[u]=[r,o,h(e,a)]}return i},M=(e,t)=>{const i=new Array(t.length);if(!t.length)return i;const n=t[0];let r=u(e,n[0]),o=f(e,n[1]);i[0]=[r,o,p(e,n[2]),h(e,n[3])];const{scale:s,originPosition:a}=e,l=s[0],c="lowerLeft"===a?s[1]:-s[1];for(let u=1;u<t.length;u++){const[n,s,a,f]=t[u];r+=l*n,o+=c*s,i[u]=[r,o,p(e,a),h(e,f)]}return i};function _(e,t,i){const n=new Array(i.length);for(let r=0;r<i.length;r++)n[r]=t(e,i[r]);return n}function v(e,t,i){const n=o(e);return t.x=s(n,i.x),t.y=a(n,i.y),null!=i.z&&(t.z=l(n,i.z)),null!=i.m&&(t.m=c(n,i.m)),t}function b(e,t,i,n=i?.hasZ??!1,r=i?.hasM??!1){if(null!=i){const s=o(e);t.points=d(n,r)(s,i.points),t.hasZ=n,t.hasM=r}return t}function w(e,t,i,n=null!=i?.z,r=null!=i?.m){if(null==i)return t;const s=o(e);return t.x=u(s,i.x),t.y=f(s,i.y),n&&(t.z=p(s,i.z)),r&&(t.m=h(s,i.m)),t}function I(e,t,i,n=i?.hasZ??!1,r=i?.hasM??!1){if(null!=i){const s=o(e);t.rings=_(s,d(n,r),i.rings),t.hasZ=n,t.hasM=r}return t}function C(e,t,i,n=i?.hasZ??!1,r=i?.hasM??!1){if(null!=i){const s=o(e);t.paths=_(s,d(n,r),i.paths),t.hasZ=n,t.hasM=r}return t}},33369:function(e,t,i){i.r(t),i.d(t,{default:function(){return H}});i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var n=i(40399),r=i(18244),o=i(2914),s=i(36861),a=i(62163),l=i(39834),c=i(60079),u=(i(44114),i(35090)),f=i(17010),p=(i(9302),i(8660),i(95753),i(13592));const h=[2155,2194,2204,2222,2223,2224,2225,2226,2227,2228,2229,2230,2231,2232,2233,2234,2235,2236,2237,2238,2239,2240,2241,2242,2243,2244,2245,2246,2247,2248,2249,2250,2251,2252,2253,2254,2255,2256,2257,2258,2259,2260,2261,2262,2263,2264,2265,2266,2267,2268,2269,2270,2271,2272,2273,2274,2275,2276,2277,2278,2279,2280,2281,2282,2283,2284,2285,2286,2287,2288,2289,2314,2867,2868,2869,2870,2871,2872,2873,2874,2875,2876,2877,2878,2879,2880,2881,2882,2883,2884,2885,2886,2887,2888,2889,2890,2891,2892,2893,2894,2895,2896,2897,2898,2899,2900,2901,2902,2903,2904,2905,2906,2907,2908,2909,2910,2911,2912,2913,2914,2915,2916,2917,2918,2919,2920,2921,2922,2923,2924,2925,2926,2927,2928,2929,2930,2964,2965,2966,2967,2968,2992,2994,3080,3089,3091,3102,3359,3359,3361,3363,3365,3366,3404,3407,3417,3418,3419,3420,3421,3422,3423,3424,3425,3426,3427,3428,3429,3430,3431,3432,3433,3434,3435,3436,3437,3438,3441,3442,3443,3444,3445,3446,3451,3452,3453,3454,3455,3456,3457,3458,3459,3479,3481,3483,3485,3487,3490,3492,3494,3496,3498,3500,3502,3504,3506,3508,3510,3512,3515,3517,3519,3521,3523,3525,3527,3529,3531,3533,3535,3537,3539,3541,3543,3545,3547,3549,3551,3553,3560,3561,3562,3563,3564,3565,3566,3567,3568,3569,3570,3582,3584,3586,3588,3590,3593,3598,3600,3605,3608,3610,3612,3614,3616,3618,3620,3622,3624,3626,3628,3630,3632,3634,3636,3640,3642,3644,3646,3648,3650,3652,3654,3656,3658,3660,3662,3664,3668,3670,3672,3674,3676,3677,3679,3680,3682,3683,3686,3688,3690,3692,3696,3698,3700,3728,3729,3730,3731,3732,3733,3734,3735,3736,3737,3738,3739,3753,3754,3755,3756,3757,3758,3759,3760,3991,3992,4217,4399,4400,4401,4402,4403,4404,4405,4406,4407,4408,4409,4410,4411,4412,4413,4418,4419,4420,4421,4422,4423,4424,4425,4426,4427,4428,4429,4430,4431,4432,4433,4438,4439,4455,4456,4457,5466,5588,5589,5623,5624,5625,5646,5654,5655,6128,6129,6141,6200,6201,6202,6391,6405,6407,6409,6411,6413,6416,6418,6420,6422,6424,6426,6428,6430,6432,6434,6436,6438,6441,6443,6445,6447,6449,6451,6453,6455,6457,6459,6461,6463,6465,6467,6469,6471,6473,6475,6477,6479,6484,6486,6488,6490,6492,6494,6496,6499,6501,6503,6505,6507,6510,6515,6517,6519,6521,6523,6525,6527,6529,6531,6533,6535,6537,6539,6541,6543,6545,6547,6549,6551,6553,6555,6557,6559,6561,6563,6565,6568,6570,6572,6574,6576,6578,6582,6584,6586,6588,6590,6593,6595,6597,6599,6601,6603,6605,6607,6609,6612,6614,6616,6618,6625,6626,6627,6633,6785,6787,6789,6791,6793,6795,6797,6799,6801,6803,6805,6807,6809,6811,6813,6815,6817,6819,6821,6823,6825,6827,6829,6831,6833,6835,6837,6839,6841,6843,6845,6847,6849,6851,6853,6855,6857,6859,6861,6863,6868,6880,6885,6887,6923,6925,6966,6997,7057,7058,7059,7060,7061,7062,7063,7064,7065,7066,7067,7068,7069,7070,7119,7120,7121,7122,7123,7124,7125,7126,7127,7128,7132,7258,7260,7262,7264,7266,7268,7270,7272,7274,7276,7278,7280,7282,7284,7286,7288,7290,7292,7294,7296,7298,7300,7302,7304,7306,7308,7310,7312,7314,7316,7318,7320,7322,7324,7326,7328,7330,7332,7334,7336,7338,7340,7342,7344,7346,7348,7350,7352,7354,7356,7358,7360,7362,7364,7366,7368,7370,7558,7587,7588,7589,7590,7591,7592,7593,7594,7595,7596,7597,7598,7599,7600,7601,7602,7603,7604,7605,7606,7607,7608,7609,7610,7611,7612,7613,7614,7615,7616,7617,7618,7619,7620,7621,7622,7623,7624,7625,7626,7627,7628,7629,7630,7631,7632,7633,7634,7635,7636,7637,7638,7639,7640,7641,7642,7643,7644,7645,24100,26729,26730,26731,26732,26733,26734,26735,26736,26737,26738,26739,26740,26741,26742,26743,26744,26745,26746,26747,26748,26749,26750,26751,26752,26753,26754,26755,26756,26757,26758,26759,26760,26766,26767,26768,26769,26770,26771,26772,26773,26774,26775,26776,26777,26778,26779,26780,26781,26782,26783,26784,26785,26786,26787,26791,26792,26793,26794,26795,26796,26797,26798,26799,26801,26802,26803,26811,26812,26813,26814,26815,26819,26820,26821,26822,26825,26826,26830,26831,26832,26833,26836,26837,26841,26842,26843,26844,26847,26848,26849,26850,26851,26852,26853,26854,26855,26856,26857,26858,26859,26860,26861,26862,26863,26864,26865,26866,26867,26868,26869,26870,32001,32002,32003,32005,32006,32007,32008,32009,32010,32011,32012,32013,32014,32015,32016,32017,32018,32019,32020,32021,32022,32023,32024,32025,32026,32027,32028,32029,32030,32031,32033,32034,32035,32036,32037,32038,32039,32040,32041,32042,32043,32044,32045,32046,32047,32048,32049,32050,32051,32052,32053,32054,32055,32056,32057,32058,32064,32065,32066,32067,32074,32075,32076,32077,32099,32164,32165,32166,32167,32664,32665,32666,32667,65061,102120,102121,102629,102630,102631,102632,102633,102634,102635,102636,102637,102638,102639,102640,102641,102642,102643,102644,102645,102646,102648,102649,102650,102651,102652,102653,102654,102655,102656,102657,102658,102659,102660,102661,102662,102663,102664,102665,102666,102667,102668,102669,102670,102671,102672,102673,102674,102675,102676,102677,102678,102679,102680,102681,102682,102683,102684,102685,102686,102687,102688,102689,102690,102691,102692,102693,102694,102695,102696,102697,102698,102700,102704,102707,102708,102709,102710,102711,102712,102713,102714,102715,102716,102717,102718,102719,102720,102721,102722,102723,102724,102725,102726,102727,102728,102729,102730,102733,102734,102735,102736,102737,102738,102739,102740,102741,102742,102743,102744,102745,102746,102747,102748,102749,102750,102751,102752,102753,102754,102755,102756,102757,102758,102761,102766],d=[5614,5702,6130,6131,6132,6358,6359,6360],m=[115700,4326];function y(e){return h.includes(e)?"feet":"meters"}function g(e,t){return"number"==typeof e?d.includes(e)?"feet":"meters":y(t)}function M(e,t){return e&&m.includes(e)||4326===t?"ellipsoidal":"gravity-related-height"}let _=class extends p.A{constructor(){super(...arguments),this.verticalWKID=null}get isAdvanced(){const{affineTransformations:e,focalLength:t,principalOffsetPoint:i,radialDistortionCoefficients:n,tangentialDistortionCoefficients:r}=this;return e?.length>1&&!Number.isNaN(t)&&i?.length>1&&n?.length>1&&r?.length>1}get unitAndHeightInfo(){const{horizontalWKID:e,verticalWKID:t}=this;let i=e,n=t;const r=this;if(4===r.type){const{properties:e}=r;i=4326,n=e.verticalWKID}return{heightModel:M(n,i),heightUnit:g(n,i),horizontalUnit:y(i)}}};(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"affineTransformations",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"focalLength",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"principalOffsetPoint",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"radialDistortionCoefficients",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"tangentialDistortionCoefficients",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"horizontalWKID",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"verticalWKID",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"x",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"y",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"z",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],_.prototype,"type",void 0),(0,n._)([(0,s.MZ)({readOnly:!0})],_.prototype,"unitAndHeightInfo",null),_=(0,n._)([(0,l.$)("esri.layers.orientedImagery.core.CameraOrientation")],_);const v=_;let b=class extends((0,u.O)((0,f.Te)(v))){constructor(){super(...arguments),this.type=1}toString(){const{type:e,horizontalWKID:t,verticalWKID:i,x:n,y:r,z:o,heading:s,pitch:a,roll:l,affineTransformations:c,focalLength:u,principalOffsetPoint:f,radialDistortionCoefficients:p,tangentialDistortionCoefficients:h}=this,d=[e,t,i,n,r,o,s,a,l];return this.isAdvanced&&(c?.forEach((e=>d.push(e))),d.push(u),f?.forEach((e=>d.push(e))),p?.forEach((e=>d.push(e))),h?.forEach((e=>d.push(e)))),d.map((e=>Number.isNaN(e)?"":e)).join("|")}};(0,n._)([(0,s.MZ)({json:{write:!0}})],b.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],b.prototype,"affineTransformations",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"focalLength",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],b.prototype,"principalOffsetPoint",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],b.prototype,"radialDistortionCoefficients",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],b.prototype,"tangentialDistortionCoefficients",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"heading",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"pitch",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"roll",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"horizontalWKID",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"verticalWKID",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"x",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"y",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],b.prototype,"z",void 0),b=(0,n._)([(0,l.$)("esri.layers.orientedImagery.core.CameraOrientationHPR")],b);const w=b;let I=class extends((0,u.O)((0,f.Te)(v))){constructor(){super(...arguments),this.type=2,this.verticalWKID=null}toString(){const{type:e,horizontalWKID:t,verticalWKID:i,x:n,y:r,z:o,omega:s,phi:a,kappa:l,affineTransformations:c,focalLength:u,principalOffsetPoint:f,radialDistortionCoefficients:p,tangentialDistortionCoefficients:h}=this,d=[e,t,i,n,r,o,s,a,l];return this.isAdvanced&&(c?.forEach((e=>d.push(e))),d.push(u),f?.forEach((e=>d.push(e))),p?.forEach((e=>d.push(e))),h?.forEach((e=>d.push(e)))),d.map((e=>isNaN(e)?"":e)).join("|")}};(0,n._)([(0,s.MZ)({json:{write:!0}})],I.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],I.prototype,"affineTransformations",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],I.prototype,"focalLength",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],I.prototype,"principalOffsetPoint",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],I.prototype,"radialDistortionCoefficients",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],I.prototype,"tangentialDistortionCoefficients",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],I.prototype,"omega",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],I.prototype,"phi",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],I.prototype,"kappa",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],I.prototype,"horizontalWKID",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],I.prototype,"verticalWKID",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],I.prototype,"x",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],I.prototype,"y",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],I.prototype,"z",void 0),I=(0,n._)([(0,l.$)("esri.layers.orientedImagery.core.CameraOrientationOPK")],I);const C=I;let S=class extends((0,u.O)((0,f.Te)(v))){constructor(){super(...arguments),this.type=3}get isAdvanced(){const{affineTransformations:e,focalLength:t,principalOffsetPoint:i,radialDistortionCoefficients:n,tangentialDistortionCoefficients:r}=this;return e?.length>1||!Number.isNaN(t)||i?.length>1||n?.length>1||r?.length>1}toString(){const{type:e,horizontalWKID:t,verticalWKID:i,x:n,y:r,z:o,yaw:s,pitch:a,roll:l,affineTransformations:c,focalLength:u,principalOffsetPoint:f,radialDistortionCoefficients:p,tangentialDistortionCoefficients:h}=this,d=[e,t,i,n,r,o,s,a,l];return this.isAdvanced&&(c?.forEach((e=>d.push(e))),d.push(u),f?.forEach((e=>d.push(e))),f?.forEach((e=>d.push(e))),p?.forEach((e=>d.push(e))),h?.forEach((e=>d.push(e)))),d.map((e=>Number.isNaN(e)?"":e)).join("|")}};(0,n._)([(0,s.MZ)({json:{write:!0}})],S.prototype,"type",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],S.prototype,"affineTransformations",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"focalLength",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],S.prototype,"principalOffsetPoint",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],S.prototype,"radialDistortionCoefficients",void 0),(0,n._)([(0,s.MZ)({type:[Number],json:{write:!0}})],S.prototype,"tangentialDistortionCoefficients",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"yaw",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"pitch",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"roll",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"horizontalWKID",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"verticalWKID",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"x",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"y",void 0),(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],S.prototype,"z",void 0),S=(0,n._)([(0,l.$)("esri.layers.orientedImagery.core.CameraOrientationYPR")],S);const z=S;i(16493);let P=class extends f.oY{constructor(){super(...arguments),this.url=null}};(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],P.prototype,"lod",void 0),(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],P.prototype,"rasterFunction",void 0),(0,n._)([(0,s.MZ)({type:String,json:{write:!0}})],P.prototype,"url",void 0),P=(0,n._)([(0,l.$)("esri.layers.orientedImagery.core.ElevationSourceDefinitions.ElevationSource")],P);let x=class extends f.oY{constructor(){super(...arguments),this.constantElevation=null}};(0,n._)([(0,s.MZ)({type:Number,json:{write:!0}})],x.prototype,"constantElevation",void 0),x=(0,n._)([(0,l.$)("esri.layers.orientedImagery.core.ElevationSourceDefinitions.ConstantElevation")],x);const Z=e=>null!=e&&"constantElevation"in e&&"number"==typeof e.constantElevation;var N;!function(e){e[e.HPR=1]="HPR",e[e.OPK=2]="OPK",e[e.YPR=3]="YPR",e[e.LTP=4]="LTP"}(N||(N={}));var j=i(77723);function k(e,t,i){return t&&(e=`${t}${e}`),i&&(e+=`${i}`),e}function F(e,t,i){let{url:n}=e;return n?(n=k(n,t,i),new P({...e,url:n})):null}function L(e,t,i){return e?Z(e)?new x(e):F(e,t,i):e}const D=new o.J({Minutes:"minutes",Hours:"hours",Days:"days",Weeks:"weeks",Months:"months",Years:"years"}),E=new o.J({360:"360",Horizontal:"horizontal",Inspection:"inspection",Nadir:"nadir",Oblique:"oblique","":null}),A=new Map;A.set(`${N.OPK}`,{desc:"Using Omega Phi Kappa",constructor:C}),A.set(`${N.HPR}`,{desc:"Using Heading, Pitch and Roll",constructor:w}),A.set(`${N.YPR}`,{desc:"Using Yaw, Pitch and Roll",constructor:z});const O=new Map;function R(e){const[t,i,n,r,o,s,a,l,c,u,f,p,h,d,m,y,g,M,_,v,b,w]=e.slice(1),I=[c,u,f,p,h,d].map((e=>Number(e))),C=[y,g].map((e=>Number(e))),S=[M,_,v].map((e=>Number(e))),z=[b,w].map((e=>Number(e)));return{horizontalWKID:t,verticalWKID:i,x:n,y:r,z:o,omega:s,phi:a,kappa:l,affineTransformations:6===I.filter(j.E).length?I:null,focalLength:m,principalOffsetPoint:2!==C.filter(j.E).length?null:C,radialDistortionCoefficients:3!==S.filter(j.E).length?[0,0,0]:S,tangentialDistortionCoefficients:2!==z.filter(j.E).length?[0,0]:z}}function T(e){const[t,i,n,r,o,s,a,l,c,u,f,p,h,d,m,y,g,M,_,v,b,w]=e.slice(1),I=[c,u,f,p,h,d].map((e=>Number(e))),C=[y,g].map((e=>Number(e))),S=[M,_,v],z=[b,w];return{horizontalWKID:t,verticalWKID:i,x:n,y:r,z:o,heading:s,pitch:a,roll:l,affineTransformations:6===I.filter(j.E).length?I:null,focalLength:m,principalOffsetPoint:2!==C.filter(j.E).length?null:C,radialDistortionCoefficients:3!==S.filter(j.E).length?null:S,tangentialDistortionCoefficients:2!==z.filter(j.E).length?null:z}}function $(e){const[t,i,n,r,o,s,a,l,c,u,f,p,h,d,m,y,g,M,_,v,b,w]=e.slice(1),I=[c,u,f,p,h,d].map((e=>Number(e))),C=[y,g].map((e=>Number(e))),S=[M,_,v],z=[b,w];return{horizontalWKID:t,verticalWKID:i,x:n,y:r,z:o,yaw:s,pitch:a,roll:l,affineTransformations:6===I.filter(j.E).length?I:null,focalLength:m,principalOffsetPoint:2!==C.filter(j.E).length?null:C,radialDistortionCoefficients:3!==S.filter(j.E).length?null:S,tangentialDistortionCoefficients:2!==z.filter(j.E).length?null:z}}function W(e){const[t,i,n,r,o,...s]=e.slice(1),a=O.get(o);return a?{latitude:t,longitude:i,ellipsoidRadius:n,squaredEccentricity:r,properties:a([o,"",...s])}:null}function K(e,t,i){return{name:`orientedImageryProperties.${e}`,write:!t||{target:`orientedImageryProperties.${e}`,writer:t},origins:{service:{name:`orientedImageryInfo.orientedImageryProperties.${e}`,write:t,read:i}}}}O.set(`${N.HPR}`,T),O.set(`${N.YPR}`,$),O.set(`${N.OPK}`,R),O.set(`${N.LTP}`,W);let G=class extends c["default"]{constructor(){super(...arguments),this.cameraHeading=null,this.cameraHeight=null,this.cameraPitch=null,this.cameraRoll=null,this.coveragePercent=null,this.demPathPrefix=null,this.demPathSuffix=null,this.depthImagePathPrefix=null,this.depthImagePathSuffix=null,this.elevationSource=null,this.farDistance=null,this.geometryType="point",this.horizontalFieldOfView=null,this.horizontalMeasurementUnit=null,this.imagePathPrefix=null,this.imagePathSuffix=null,this.imageRotation=null,this.maximumDistance=null,this.nearDistance=null,this.operationalLayerType="OrientedImageryLayer",this.orientationAccuracy=null,this.orientedImageryType=null,this.supportedSourceTypes=new Set(["Oriented Imagery Layer"]),this.type="oriented-imagery",this.timeIntervalUnit=null,this.verticalFieldOfView=null,this.verticalMeasurementUnit=null,this.videoPathPrefix=null,this.videoPathSuffix=null}get effectiveElevationSource(){const{elevationSource:e,demPathPrefix:t,demPathSuffix:i}=this;return L(e,t,i)}findFirstValidLayerId(e){return e.layers?.find((e=>this.supportedSourceTypes.has(e.type)))?.id}_verifySource(){if(super._verifySource(),"point"!==this.geometryType)throw new r.A("oriented-imagery-layer:invalid-geometry-type","OrientedImageryLayer only supports point geometry type")}};(0,n._)([(0,s.MZ)({type:Number,json:K("cameraHeading")})],G.prototype,"cameraHeading",void 0),(0,n._)([(0,s.MZ)({type:Number,json:K("cameraHeight")})],G.prototype,"cameraHeight",void 0),(0,n._)([(0,s.MZ)({type:Number,json:K("cameraPitch")})],G.prototype,"cameraPitch",void 0),(0,n._)([(0,s.MZ)({type:Number,json:K("cameraRoll")})],G.prototype,"cameraRoll",void 0),(0,n._)([(0,s.MZ)({type:Number,json:K("coveragePercent")})],G.prototype,"coveragePercent",void 0),(0,n._)([(0,s.MZ)({type:String,json:K("demPathPrefix")})],G.prototype,"demPathPrefix",void 0),(0,n._)([(0,s.MZ)({type:String,json:K("demPathSuffix")})],G.prototype,"demPathSuffix",void 0),(0,n._)([(0,s.MZ)({type:String,json:K("depthImagePathPrefix")})],G.prototype,"depthImagePathPrefix",void 0),(0,n._)([(0,s.MZ)({type:String,json:K("depthImagePathSuffix")})],G.prototype,"depthImagePathSuffix",void 0),(0,n._)([(0,s.MZ)({type:Object,json:K("elevationSource")})],G.prototype,"elevationSource",void 0),(0,n._)([(0,s.MZ)()],G.prototype,"effectiveElevationSource",null),(0,n._)([(0,s.MZ)({type:Number,json:K("farDistance")})],G.prototype,"farDistance",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],G.prototype,"geometryType",void 0),(0,n._)([(0,s.MZ)({type:Number,json:K("horizontalFieldOfView")})],G.prototype,"horizontalFieldOfView",void 0),(0,n._)([(0,s.MZ)({type:String,json:K("horizontalMeasurementUnit")})],G.prototype,"horizontalMeasurementUnit",void 0),(0,n._)([(0,s.MZ)({type:String,json:K("imagePathPrefix")})],G.prototype,"imagePathPrefix",void 0),(0,n._)([(0,s.MZ)({type:String,json:K("imagePathSuffix")})],G.prototype,"imagePathSuffix",void 0),(0,n._)([(0,s.MZ)({type:Number,json:K("imageRotation")})],G.prototype,"imageRotation",void 0),(0,n._)([(0,s.MZ)({type:Number,json:K("maximumDistance")})],G.prototype,"maximumDistance",void 0),(0,n._)([(0,s.MZ)({type:Number,json:K("nearDistance")})],G.prototype,"nearDistance",void 0),(0,n._)([(0,s.MZ)({type:["OrientedImageryLayer"]})],G.prototype,"operationalLayerType",void 0),(0,n._)([(0,s.MZ)({json:K("orientationAccuracy",((e,t)=>{e&&(t.orientationAccuracy=e.join(","))}))}),(0,a.w)((e=>e?e.trim().split(",").map(Number):null))],G.prototype,"orientationAccuracy",void 0),(0,n._)([(0,s.MZ)({json:{...K("orientedImageryType",E.write,E.read),type:E.apiValues}})],G.prototype,"orientedImageryType",void 0),(0,n._)([(0,s.MZ)({json:{read:!1},value:"oriented-imagery",readOnly:!0})],G.prototype,"type",void 0),(0,n._)([(0,s.MZ)({json:{...K("timeIntervalUnit",D.write,D.read),type:D.apiValues}})],G.prototype,"timeIntervalUnit",void 0),(0,n._)([(0,s.MZ)({type:Number,json:K("verticalFieldOfView")})],G.prototype,"verticalFieldOfView",void 0),(0,n._)([(0,s.MZ)({json:{...K("verticalMeasurementUnit"),type:new o.J({Feet:"feet",Meter:"meter"}).apiValues}})],G.prototype,"verticalMeasurementUnit",void 0),(0,n._)([(0,s.MZ)({type:String,json:K("videoPathPrefix")})],G.prototype,"videoPathPrefix",void 0),(0,n._)([(0,s.MZ)({type:String,json:K("videoPathSuffix")})],G.prototype,"videoPathSuffix",void 0),G=(0,n._)([(0,l.$)("esri.layers.OrientedImageryLayer")],G);const H=G},23925:function(e,t,i){i.d(t,{A:function(){return h}});var n=i(40399),r=i(35090),o=i(17010),s=i(36861),a=(i(9302),i(8660),i(95753),i(29811)),l=i(39834),c=i(63955),u=i(9233),f=i(92779);let p=class extends((0,r.O)(o.oY)){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const i of Object.keys(e))t[i]=(0,u.rS)(e[i]);return t}writeDomains(e,t){const i={};for(const n of Object.keys(e))e[n]&&(i[n]=e[n]?.toJSON());t.domains=i}};(0,n._)([(0,s.MZ)({json:{write:!0}})],p.prototype,"id",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],p.prototype,"name",void 0),(0,n._)([(0,s.MZ)({json:{write:!0}})],p.prototype,"domains",void 0),(0,n._)([(0,a.w)("domains")],p.prototype,"readDomains",null),(0,n._)([(0,c.K)("domains")],p.prototype,"writeDomains",null),(0,n._)([(0,s.MZ)({type:[f.A],json:{write:!0}})],p.prototype,"templates",void 0),p=(0,n._)([(0,l.$)("esri.layers.support.FeatureType")],p);const h=p},91044:function(e,t,i){i.d(t,{A:function(){return m}});i(44114),i(17642),i(58004),i(33853),i(45876),i(32475),i(15024),i(31698);var n=i(18244),r=i(17010),o=i(8660),s=i(71207),a=i(59888),l=i(12014),c=i(57564),u=i(14116);function f(e){return"timeZone"in e}function p(e){return"timeZone"in e}function h(e){return"dateFieldsTimeZone"in e}const d=new Map;class m{static fromJSON(e){return new m(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new m(e.fields??[],_(e))}static fromLayerJSON(e){return new m(e.fields??[],_(e))}constructor(e=[],t){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const i=[];for(const n of this.fields){const e=n?.name,t=g(e);if(e&&t){const r=y(e);this._fieldsMap.set(e,n),this._fieldsMap.set(r,n),this._normalizedFieldsMap.set(t,n),i.push(`${r}:${n.type}:${this._timeZoneByFieldName?.get(e)}`),(0,l.vE)(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):(0,l.WA)(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),(0,l.te)(n)||(0,l.Xz)(n)||(n.editable=null==n.editable||!!n.editable,n.nullable=null==n.nullable||!!n.nullable)}}i.sort(),this.uid=i.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,l.te)(e)||(0,l.Xz)(e)||e.nullable||void 0!==(0,l.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(y(e))??this._normalizedFieldsMap.get(g(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(o.A.getLogger("esri.layers.support.FieldsIndex").error(new n.A("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),c.n$):M.has(t.type)?c.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===c.L5?a.GB.instance:t===c.n$?u.mQ.utcInstance:(0,s.tE)(d,t,(()=>u.oh.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,l.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map((e=>(0,r.Wj)(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function y(e){return e.trim().toLowerCase()}function g(e){return(0,l.rS)(e)?.toLowerCase()??""}const M=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function _(e){const t=new Map;if(!e.fields)return t;const i=!0===e.datesInUnknownTimezone,{timeInfo:n,editFieldsInfo:r}=e,o=(n?"startField"in n?n.startField:n.startTimeField:"")??"",s=(n?"endField"in n?n.endField:n.endTimeField:"")??"",a=h(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,c.ZS)(e.dateFieldsTimeReference):null,l=r?f(r)?r.timeZone??a:r.dateFieldsTimeReference?(0,c.ZS)(r.dateFieldsTimeReference):a??c.n$:null,u=n?p(n)?n.timeZone??a:n.timeReference?(0,c.ZS)(n.timeReference):a:null,d=new Map([[y(r?.creationDateField??""),l],[y(r?.editDateField??""),l],[y(o),u],[y(s),u]]);for(const{name:f,type:p}of e.fields)if(M.has(p))t.set(f,c.L5);else if("date"!==p&&"esriFieldTypeDate"!==p)t.set(f,null);else if(i)t.set(f,c.L5);else{const e=d.get(y(f??""))??a;t.set(f,e)}return t}},1100:function(e,t,i){i.d(t,{BI:function(){return y},D3:function(){return d},XJ:function(){return m},lc:function(){return h},mX:function(){return M},rU:function(){return g},tH:function(){return C}});var n=i(45557);const r="__begin__",o="__end__",s=new RegExp(r,"ig"),a=new RegExp(o,"ig"),l=new RegExp("^"+r,"i"),c=new RegExp(o+"$","i"),u='"',f=u+" + ",p=" + "+u;function h(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function d(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function m(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=h(e.labelExpression),t.type="conventional"),t}function y(e){const t=m(e);if(!t)return null;switch(t.type){case"conventional":return M(t.expression);case"arcade":return t.expression}return null}function g(e){const t=m(e);if(!t)return null;switch(t.type){case"conventional":return v(t.expression);case"arcade":return C(t.expression)}return null}function M(e){let t;return e?(t=(0,n.HC)(e,(e=>r+'$feature["'+e+'"]'+o)),t=l.test(t)?t.replace(l,""):u+t,t=c.test(t)?t.replace(c,""):t+u,t=t.replaceAll(s,f).replaceAll(a,p)):t='""',t}const _=/^\s*\{([^}]+)\}\s*$/i;function v(e){const t=e?.match(_);return t?.[1].trim()||null}const b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,w=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,I=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function C(e){if(!e)return null;let t=b.exec(e)||w.exec(e);return t?t[1]||t[3]:(t=I.exec(e),t?t[2]:null)}},37334:function(e,t,i){i.d(t,{O3:function(){return f},PU:function(){return c},YW:function(){return h},ex:function(){return a},hv:function(){return p},zp:function(){return l}});i(16573),i(78100),i(77936),i(37467),i(44732),i(79577);var n=i(27165),r=i(22443),o=i(88031),s=i(43911);const a=2.4;function l(e){return(0,r.PN)(e*a)}function c(e){return(0,r.Lz)(e)/a}function u(e,t,i,r){let{color:s,ratio:a}=t,{color:l,ratio:c}=i;if(c===a){const e=1e-6;1===c?a-=e:c+=e}const u=(0,n.qE)((r-a)/(c-a),0,1);(0,o.l)(e,s.toArray(),l.toArray(),u)}function f(e){const t=512,i=new Uint8ClampedArray(4*t);if(e=e.filter((({ratio:e})=>e>=0&&e<=1)).sort(((e,t)=>e.ratio-t.ratio)).map((({color:e,ratio:t})=>({color:e,ratio:Math.max(t,.001)}))),e.length<1)return i;let n=e[0],r=e[0],o=1;const a=(0,s.vt)();for(let s=0;s<t;s++){const l=(s+.5)/t;for(;l>r.ratio&&o<e.length;)n=r,r=e[o++];u(a,n,r,l),i.set(a,4*s)}return i}function p(e,t,i){const n=Math.sqrt(e**2+t**2)/i;return n>1?0:3/(Math.PI*i**2)*(1-n**2)**2}function h(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}},46591:function(e,t,i){i.d(t,{q:function(){return r}});var n=i(6737);function r(e,t,i){if(!i?.features||!i.hasZ)return;const r=(0,n.N)(i.geometryType,t,e.outSpatialReference);if(null!=r)for(const n of i.features)r(n.geometry)}},57242:function(e,t,i){i.d(t,{D:function(){return r},K:function(){return n}});const n={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},r={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0}}},80139:function(e,t,i){i.d(t,{$w:function(){return g},Bu:function(){return Z},DW:function(){return S},FM:function(){return l},G9:function(){return r},GV:function(){return M},Go:function(){return u},K3:function(){return O},Kn:function(){return I},MM:function(){return h},MO:function(){return $},Nl:function(){return N},Ny:function(){return _},O2:function(){return j},UE:function(){return k},YC:function(){return T},YF:function(){return L},ZO:function(){return E},_1:function(){return P},_H:function(){return b},_d:function(){return C},bs:function(){return R},e6:function(){return f},gQ:function(){return a},iA:function(){return A},jn:function(){return m},lW:function(){return p},mA:function(){return d},n5:function(){return F},pM:function(){return z},pV:function(){return w},pk:function(){return W},rB:function(){return K},xo:function(){return x},yH:function(){return v},zb:function(){return D},zr:function(){return y}});i(44114);var n=i(57242);function r(e){return[e.r,e.g,e.b,e.a]}const o=" /-,\n";function s(e){let t=e.length;for(;t--;)if(!o.includes(e.charAt(t)))return!1;return!0}function a(e,t){const i=[];let n=0,r=-1;do{if(r=e.indexOf("[",n),r>=n){if(r>n){const t=e.substr(n,r-n);i.push([t,null,s(t)])}if(n=r+1,r=e.indexOf("]",n),r>=n){if(r>n){const o=t[e.substr(n,r-n)];o&&i.push([null,o,!1])}n=r+1}}}while(-1!==r);if(n<e.length-1){const t=e.substr(n);i.push([t,null,s(t)])}return i}function l(e,t,i,n){let r="",o=null;for(const s of t){const[t,n,a]=s;if(t)a?o=t:(o&&(r+=o,o=null),r+=t);else{let t=n;null!=i&&(t=$(n,i));const s=e.attributes[t];s&&(o&&(r+=o,o=null),r+=s)}}return c(r,n)}function c(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function u(e,t,i,n,r,o,s=!0){const a=t/r,l=i/o,c=Math.ceil(a/2),u=Math.ceil(l/2);for(let f=0;f<o;f++)for(let i=0;i<r;i++){const p=4*(i+(s?o-f-1:f)*r);let h=0,d=0,m=0,y=0,g=0,M=0,_=0;const v=(f+.5)*l;for(let n=Math.floor(f*l);n<(f+1)*l;n++){const r=Math.abs(v-(n+.5))/u,o=(i+.5)*a,s=r*r;for(let l=Math.floor(i*a);l<(i+1)*a;l++){let i=Math.abs(o-(l+.5))/c;const r=Math.sqrt(s+i*i);r>=-1&&r<=1&&(h=2*r*r*r-3*r*r+1,h>0&&(i=4*(l+n*t),_+=h*e[i+3],m+=h,e[i+3]<255&&(h=h*e[i+3]/250),y+=h*e[i],g+=h*e[i+1],M+=h*e[i+2],d+=h))}}n[p]=y/d,n[p+1]=g/d,n[p+2]=M/d,n[p+3]=_/m}}function f(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function p(e){return e.data?.symbol??null}function h(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function d(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function m(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function y(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const g=(e,t=0)=>null==e||isNaN(e)?t:e,M=(e,t)=>e??t,_=e=>e.tintColor?f(e.tintColor):[255,255,255,1],v=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function b(){return i.e(2749).then(i.bind(i,42749))}function w(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function I(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function C(e){let t="normal",i="normal";if(e){const n=e.toLowerCase();n.includes("italic")?t="italic":n.includes("oblique")&&(t="oblique"),n.includes("bold")?i="bold":n.includes("light")&&(i="lighter")}return{style:t,weight:i}}function S(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function z(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=z(t);if(null!=e)return e}break;case"CIMTextSymbol":return z(e.symbol);case"CIMSolidFill":return e.color}return null}function P(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const e of t){const t=P(e);if(null!=t)return t}break}case"CIMTextSymbol":return P(e.symbol);case"CIMSolidStroke":return e.color}}function x(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=x(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return x(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function Z(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function N(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function j(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const k=e=>e.includes("data:image/svg+xml");function F(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function L(e){return e?e.charAt(0).toLowerCase()+e.substring(1):e}function D(e,t,i,n,r,o){const{infos:s}=o;let a=1,l=0,c=0,u=0;for(const{offsetX:h,offsetY:d,rotation:m,size:y,frameHeight:g,rotateClockWise:M}of s)c=H(h,d,l,a,c),u=G(h,d,l,a,u),g&&(a*=y/g),l=V(m,M,l);const f=H(n,r,l,a,c),p=G(n,r,l,a,u);return{size:e*a,rotation:V(t,i,l),offsetX:f,offsetY:p}}function E(e){if(null==e)return!1;if(Array.isArray(e))return e.every((e=>E(e)));switch(typeof e){case"string":return!!e;case"number":return!isNaN(e)}}function A(e,t){if("color"===t||"outlinecolor"===t||"backgroundcolor"===t||"borderlinecolor"===t||"tintcolor"===t)return[...n.K[t]];const i=n.D[e];if(!i)throw new Error(`InternalError: default value for type ${e}.`);return i[t]}function O(e){return e?.dashTemplate&&"string"==typeof e.dashTemplate&&(e.dashTemplate=e.dashTemplate.split(" ").map(Number)),e}function R(e){if(null==e)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const e of t)if("CIMVectorMarker"===e.type)return R(e)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const e of t)if(e.symbol)return R(e.symbol)}}return"Normal"}function T(e){if(e)switch(e.type){case"CIMTextSymbol":return e.height;case"CIMPointSymbol":{let t=0;if(e.symbolLayers)for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const e=i.size??n.D.CIMVectorMarker.size;e>t&&(t=e);break}}return t}case"CIMLineSymbol":case"CIMPolygonSymbol":{let t=0;if(e.symbolLayers)for(const i of e.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const e=i.width;null!=e&&e>t&&(t=e);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&y(i.markerPlacement)){const e=i.size??n.D.CIMVectorMarker.size;e>t&&(t=e)}break;case"CIMPictureFill":{const e=i.height;null!=e&&e>t&&(t=e)}}return t}}}function $(e,t){if(null!==t){const i=t.get(e);return i?i.name:e}return e}function W(e){return e.map((e=>({...e,propertyName:L(e.propertyName)})))}function K(e){const t={};for(const i in e){const n=e[i];t[L(i)]=n}return t}function G(e,t,i,n,r){const o=i*Math.PI/180;if(o){const i=Math.cos(o);return(Math.sin(o)*e+i*t)*n+r}return t*n+r}function H(e,t,i,n,r){const o=i*Math.PI/180;return o?(Math.cos(o)*e-Math.sin(o)*t)*n+r:e*n+r}function V(e,t,i){return t?i-e:i+e}}}]);
//# sourceMappingURL=5822.b25fc3ea.js.map