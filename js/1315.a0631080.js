"use strict";(self["webpackChunkvue_arcgis_0905"]=self["webpackChunkvue_arcgis_0905"]||[]).push([[1315],{21839:function(n,e,t){t.d(e,{$X:function(){return T},Gy:function(){return z},P5:function(){return Z},SW:function(){return x},Tr:function(){return I},VV:function(){return i}});t(44114),t(55910);function i(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance,1,1]:[1,1,1,1],translate:null!=n.extent?[n.extent.xmin,n.extent.ymax,n.extent.zmin??0,n.extent.mmin??0]:[0,0,0,0]}:null}function o(n){return"lowerLeft"===n.originPosition&&4===n.scale.length&&4===n.translate.length}function r(n){if(o(n))return n;const{originPosition:e,scale:t,translate:i}=n,r=t[0]??1,a=t[1]??1;return{originPosition:"lowerLeft",scale:[r,"lowerLeft"===e?a:-a,t[2]??1,t[3]??1],translate:[i[0]??0,i[1]??0,i[2]??0,i[3]??0]}}function a({scale:n,translate:e},t){return Math.round((t-e[0])/n[0])}function l({scale:n,translate:e},t){return Math.round((t-e[1])/n[1])}function s({scale:n,translate:e},t){return Math.round(((t??0)-e[2])/n[2])}function u({scale:n,translate:e},t){return t?Math.round((t-e[3])/n[3]):0}function f({scale:n,translate:e},t){return t*n[0]+e[0]}function c({scale:n,translate:e},t){return t*n[1]+e[1]}function m({scale:n,translate:e},t){return(t??0)*n[2]+e[2]}function d({scale:n,translate:e},t){return t?t*n[3]+e[3]:0}function h(n,e){return n&&e?v:n&&!e?g:!n&&e?y:p}const p=(n,e)=>{const t=new Array(e.length);if(!e.length)return t;const i=e[0];let o=f(n,i[0]),r=c(n,i[1]);t[0]=[o,r];const{scale:a,originPosition:l}=n,s=a[0],u="lowerLeft"===l?a[1]:-a[1];for(let f=1;f<e.length;f++){const[n,i]=e[f];o+=s*n,r+=u*i,t[f]=[o,r]}return t},g=(n,e)=>{const t=new Array(e.length);if(!e.length)return t;const i=e[0];let o=f(n,i[0]),r=c(n,i[1]);t[0]=[o,r,m(n,i[2])];const{scale:a,originPosition:l}=n,s=a[0],u="lowerLeft"===l?a[1]:-a[1];for(let f=1;f<e.length;f++){const[i,a,l]=e[f];o+=s*i,r+=u*a,t[f]=[o,r,m(n,l)]}return t},y=(n,e)=>{const t=new Array(e.length);if(!e.length)return t;const i=e[0];let o=f(n,i[0]),r=c(n,i[1]);t[0]=[o,r,d(n,i[2])];const{scale:a,originPosition:l}=n,s=a[0],u="lowerLeft"===l?a[1]:-a[1];for(let f=1;f<e.length;f++){const[i,a,l]=e[f];o+=s*i,r+=u*a,t[f]=[o,r,d(n,l)]}return t},v=(n,e)=>{const t=new Array(e.length);if(!e.length)return t;const i=e[0];let o=f(n,i[0]),r=c(n,i[1]);t[0]=[o,r,m(n,i[2]),d(n,i[3])];const{scale:a,originPosition:l}=n,s=a[0],u="lowerLeft"===l?a[1]:-a[1];for(let f=1;f<e.length;f++){const[i,a,l,c]=e[f];o+=s*i,r+=u*a,t[f]=[o,r,m(n,l),d(n,c)]}return t};function w(n,e,t){const i=new Array(t.length);for(let o=0;o<t.length;o++)i[o]=e(n,t[o]);return i}function z(n,e,t){const i=r(n);return e.x=a(i,t.x),e.y=l(i,t.y),null!=t.z&&(e.z=s(i,t.z)),null!=t.m&&(e.m=u(i,t.m)),e}function x(n,e,t,i=t?.hasZ??!1,o=t?.hasM??!1){if(null!=t){const a=r(n);e.points=h(i,o)(a,t.points),e.hasZ=i,e.hasM=o}return e}function I(n,e,t,i=null!=t?.z,o=null!=t?.m){if(null==t)return e;const a=r(n);return e.x=f(a,t.x),e.y=c(a,t.y),i&&(e.z=m(a,t.z)),o&&(e.m=d(a,t.m)),e}function T(n,e,t,i=t?.hasZ??!1,o=t?.hasM??!1){if(null!=t){const a=r(n);e.rings=w(a,h(i,o),t.rings),e.hasZ=i,e.hasM=o}return e}function Z(n,e,t,i=t?.hasZ??!1,o=t?.hasM??!1){if(null!=t){const a=r(n);e.paths=w(a,h(i,o),t.paths),e.hasZ=i,e.hasM=o}return e}},71315:function(n,e,t){t.r(e),t.d(e,{classBreaks:function(){return l},heatmapStatistics:function(){return u},histogram:function(){return s},summaryStatistics:function(){return r},uniqueValues:function(){return a}});var i=t(96295),o=t(32875);async function r(n){const{attribute:e,features:t}=n,{normalizationType:r,normalizationField:a,minValue:l,maxValue:s,fieldType:u}=e,f=await(0,i.Jc)({field:e.field,valueExpression:e.valueExpression,normalizationType:r,normalizationField:a,normalizationTotal:e.normalizationTotal,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},t),c=(0,o.Vb)({normalizationType:r,normalizationField:a,minValue:l,maxValue:s}),m={value:.5,fieldType:u},d="esriFieldTypeString"===u?(0,o.z9)({values:f,supportsNullCount:c,percentileParams:m}):(0,o.G_)({values:f,minValue:l,maxValue:s,useSampleStdDev:!r,supportsNullCount:c,percentileParams:m});return(0,o.oZ)(d,"esriFieldTypeDate"===u)}async function a(n){const{attribute:e,features:t}=n,r=await(0,i.Jc)({field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:e.valueExpression,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},t,!1),a=(0,o.b3)(r);return(0,o.lv)(a,e.domains,e.returnAllCodedValues,e.fieldDelimiter)}async function l(n){const{attribute:e,features:t}=n,{field:r,normalizationType:a,normalizationField:l,normalizationTotal:s,classificationMethod:u}=e,f=await(0,i.Jc)({field:r,valueExpression:e.valueExpression,normalizationType:a,normalizationField:l,normalizationTotal:s,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},t),c=(0,o.Rw)(f,{field:r,normalizationType:a,normalizationField:l,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:e.standardDeviationInterval,numClasses:e.numClasses,minValue:e.minValue,maxValue:e.maxValue});return(0,o.jM)(c,u)}async function s(n){const{attribute:e,features:t}=n,{field:r,normalizationType:a,normalizationField:l,normalizationTotal:s,classificationMethod:u}=e,f=await(0,i.Jc)({field:r,valueExpression:e.valueExpression,normalizationType:a,normalizationField:l,normalizationTotal:s,viewInfoParams:e.viewInfoParams,timeZone:e.timeZone,fieldInfos:e.fieldInfos},t);return(0,o.$y)(f,{field:r,normalizationType:a,normalizationField:l,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:e.standardDeviationInterval,numBins:e.numBins,minValue:e.minValue,maxValue:e.maxValue})}async function u(n){const{attribute:e,features:t}=n,{field:o,radius:r,transform:a,spatialReference:l}=e,s=e.size??[0,0],u=(0,i.$r)(t??[],a,l,s);return(0,i.gV)(u,r??void 0,o,s[0],s[1])}},96295:function(n,e,t){t.d(e,{$r:function(){return y},Jc:function(){return z},gV:function(){return v},rb:function(){return w}});t(44114),t(16573),t(78100),t(77936),t(37467),t(44732),t(79577),t(32334),t(18244);var i=t(22443),o=t(57096),r=t(70616),a=t(21839),l=t(84427),s=t(12014),u=t(37334),f=t(71889),c=t(32875),m=t(38776),d=t(86743);let h=null;const p=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function g(n,e,t){return n.x<0?n.x+=e:n.x>t&&(n.x-=e),n}function y(n,e,t,i){const o=(0,l.d9)(t)?(0,l.Vp)(t):null,r=o?Math.round((o.valid[1]-o.valid[0])/e.scale[0]):null;return n.map((n=>{const t=new d.A(n.geometry);return(0,a.Gy)(e,t,t),n.geometry=o?g(t,r??0,i[0]):t,n}))}function v(n,e=18,t,o,r){const a=new Float64Array(o*r);e=Math.round((0,i.Lz)(e));let l=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;const f=(0,u.YW)(t);for(const{geometry:i,attributes:c}of n){const{x:n,y:t}=i,m=Math.max(0,n-e),d=Math.max(0,t-e),h=Math.min(r,t+e),p=Math.min(o,n+e),g=+f(c);for(let i=d;i<h;i++)for(let r=m;r<p;r++){const f=i*o+r,c=(0,u.hv)(r-n,i-t,e)*g,m=a[f]+=c;l=Math.min(l,m),s=Math.max(s,m)}}return{min:l,max:s}}function w(n){const e=p.exec(n);if(!e)return null;const{hh:t,mm:i,ss:r,ms:a}=e.groups;return Number(t)*o.vf.hours+Number(i)*o.vf.minutes+Number(r)*o.vf.seconds+Number(a||0)}async function z(n,e,t=!0){if(!e)return[];const{field:i,field2:o,field3:a,fieldDelimiter:l,fieldInfos:u,timeZone:d}=n,p=i&&u?.find((n=>n.name.toLowerCase()===i.toLowerCase())),g=!!p&&(0,s.OH)(p),y=!!p&&(0,f.fs)(p),v=n.valueExpression,z=n.normalizationType,x=n.normalizationField,I=n.normalizationTotal,T=[],Z=n.viewInfoParams;let M=null,V=null;if(v){if(!h){const{arcadeUtils:n}=await(0,m.lw)();h=n}h.hasGeometryOperations(v)&&await h.enableGeometryOperations(),M=h.createFunction(v),V=Z?h.getViewInfo({viewingMode:Z.viewingMode,scale:Z.scale,spatialReference:new r.A(Z.spatialReference)}):null}const P=n.fieldInfos,b=e[0]&&"declaredClass"in e[0]&&"esri.Graphic"===e[0].declaredClass||!P?null:{fields:P};return e.forEach((n=>{const e=n.attributes;let r;if(v){const e=b?{...n,layer:b}:n,t=h.createExecContext(e,V,d);r=h.executeFunction(M,t)}else e&&(r=e[i],o?(r=`${(0,c.gJ)(r)}${l}${(0,c.gJ)(e[o])}`,a&&(r=`${r}${l}${(0,c.gJ)(e[a])}`)):"string"==typeof r&&t&&(y?r=r?new Date(r).getTime():null:g&&(r=r?w(r):null)));if(z&&"number"==typeof r&&isFinite(r)){const n=e&&parseFloat(e[x]);r=(0,c.zS)(r,z,n,I)}T.push(r)})),T}},71889:function(n,e,t){t.d(e,{fs:function(){return a},i0:function(){return l}});t(44114),t(17642),t(58004),t(33853),t(45876),t(32475),t(15024),t(31698);var i=t(87760),o=t(12014),r=(t(38776),t(16804),t(57564));new Set(["integer","small-integer"]);function a(n){return(0,o.vE)(n)||(0,o.zD)(n)||(0,o.Ah)(n)}function l(n,e){const{format:t,timeZoneOptions:o,fieldType:a}=e??{};let l,s;if(o&&({timeZone:l,timeZoneName:s}=(0,r.hv)(o.layerTimeZone,o.datesInUnknownTimezone,o.viewTimeZone,(0,i.J2)(t||"short-date-short-time"),a)),"string"==typeof n&&isNaN(Date.parse("time-only"===a?`1970-01-01T${n}Z`:n)))return n;switch(a){case"date-only":{const e=(0,i.J2)(t||"short-date");return"string"==typeof n?(0,i.iS)(n,{...e}):(0,i.Yq)(n,{...e,timeZone:r.n$})}case"time-only":{const e=(0,i.J2)(t||"short-time");return"string"==typeof n?(0,i.F8)(n,e):(0,i.Yq)(n,{...e,timeZone:r.n$})}case"timestamp-offset":{if(!l&&"string"==typeof n&&new Date(n).toISOString()!==n)return n;const e=t||o?(0,i.J2)(t||"short-date-short-time"):void 0,r=e?{...e,timeZone:l,timeZoneName:s}:void 0;return"string"==typeof n?(0,i.Ey)(n,r):(0,i.Yq)(n,r)}default:{const e=t||o?(0,i.J2)(t||"short-date-short-time"):void 0;return(0,i.Yq)("string"==typeof n?new Date(n):n,e?{...e,timeZone:l,timeZoneName:s}:void 0)}}}}}]);
//# sourceMappingURL=1315.a0631080.js.map