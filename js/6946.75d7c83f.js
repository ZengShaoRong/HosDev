"use strict";(self["webpackChunkvue_arcgis_0905"]=self["webpackChunkvue_arcgis_0905"]||[]).push([[6946],{97787:function(e,n,t){function o(e){return e=e||globalThis.location.hostname,c.some((n=>null!=e?.match(n)))}function r(e,n){return e&&(n=n||globalThis.location.hostname)?null!=n.match(l)||null!=n.match(a)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=n.match(s)||null!=n.match(i)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}t.d(n,{EM:function(){return r},b5:function(){return o}});const l=/^devext\.arcgis\.com$/,s=/^qaext\.arcgis\.com$/,a=/^[\w-]*\.mapsdevext\.arcgis\.com$/,i=/^[\w-]*\.mapsqa\.arcgis\.com$/,c=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,l,s,/^jsapps\.esri\.com$/,a,i]},8047:function(e,n,t){t.d(n,{Vd:function(){return r},Vo:function(){return c}});var o=t(9302);const r=()=>!!(0,o.A)("enable-feature:force-wosr"),l=()=>o.A.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0),s=()=>o.A.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),a=()=>o.A.add("enable-i3s-patching",!0,!0,!0),i=()=>o.A.add("enable-i3s-patching",!1,!0,!0),c=()=>!!(0,o.A)("enable-feature:SceneLayer-editing"),u=(e="i3s-patching")=>{switch(i(),s(),o.A.add("enable-feature:SceneLayer-editing",!0,!0,!0),e){case"feature-layer-view":l();break;case"i3s-patching":a()}};u("i3s-patching")},33113:function(e,n,t){t.d(n,{M9:function(){return c},oO:function(){return u},rS:function(){return f}});var o=t(86978),r=t(18244),l=t(95541),s=t(81407),a=t(42626),i=t(67027);function c(e,n,t,o){const r=y(e,{},{context:o,isLabelSymbol:!1});null!=r&&(n[t]=r)}function u(e,n,t,o){const r=y(e,{},{context:o,isLabelSymbol:!0});null!=r&&(n[t]=r)}function m(e){return e instanceof s.A||e instanceof i.A}function y(e,n,t){if(null==e)return null;const{context:o,isLabelSymbol:s}=t,i=o?.origin,c=o?.messages;if("web-scene"===i&&!m(e)){const t=(0,a.t)(e,{retainCIM:!0,hasLabelingContext:s});return null!=t.symbol?t.symbol.write(n,o):(c?.push(new r.A("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:o,error:t.error})),null)}return("web-map"===i||"portal-item"===i&&!(0,l.TU)(o?.layer))&&m(e)?(c?.push(new r.A("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:o})),null):e.write(n,o)}function f(e,n){return(0,o.Bu)(e,null,n)}},51974:function(e,n,t){t.d(n,{bo:function(){return d},cF:function(){return b},jg:function(){return h},o5:function(){return p},yA:function(){return g}});var o=t(5049),r=t(18244),l=t(13570),s=t(94),a=t(45959),i=t(75623),c=t(8047);let u={};async function m(e,n){try{return{data:(await g(e,n)).data,baseUrl:(0,s.nM)(e),styleUrl:e}}catch(t){return(0,l.QP)(t),null}}function y(e,n,t){const o=null!=n.portal?n.portal:a.A.getDefault();let r;const l=`${o.url} - ${o.user?.username} - ${e}`;return u[l]||(u[l]=f(e,o,t).then((e=>(r=e,e.fetchData()))).then((n=>({data:n,baseUrl:r.itemUrl??"",styleName:e})))),u[l]}function f(e,n,t){return n.load(t).then((()=>{const o=new i.A({disableExtraQuery:!0,query:`owner:${A} AND type:${w} AND typekeywords:"${e}"`});return n.queryItems(o,t)})).then((({results:n})=>{let o=null;const l=e.toLowerCase();if(n&&Array.isArray(n))for(const e of n){const n=e.typeKeywords?.some((e=>e.toLowerCase()===l));if(n&&e.type===w&&e.owner===A){o=e;break}}if(!o)throw new r.A("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return o.load(t)}))}function b(e,n,t){return null!=e?.styleUrl?m(e.styleUrl,t):null!=e?.styleName?y(e.styleName,n,t):Promise.reject(new r.A("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function d(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function p(e,n,t=["gltf"]){if("cimRef"===n)return encodeURI(e.cimRef);if(e.formatInfos&&!(0,c.Vd)())for(const o of t){const n=e.formatInfos.find((e=>e.type===o));if(n)return n.href}return encodeURI(e.webRef)}function g(e,n){const t={responseType:"json",query:{f:"json"},...n};return(0,o.A)((0,s.S8)(e),t)}const A="esri_en",w="Style",h="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},42626:function(e,n,t){t.d(n,{t:function(){return D}});var o=t(86978),r=t(18244),l=t(68347),s=t(81677),a=(t(9302),t(22443)),i=t(30414),c=t(50713),u=t(51598),m=t(1575),y=t(58095),f=t(41031),b=t(62722),d=t(67700),p=t(67409);m.A.fromSimpleMarkerSymbol(b.UK),c.A.fromSimpleLineSymbol(b.A7),y.A.fromSimpleFillSymbol(b.Cx),new u.A({symbolLayers:new s.A([new i.A({material:{color:d.fT},edges:new f.A({size:(0,a.PN)(1),color:new l.A(d.JR)})})])});const g=new c.A({symbolLayers:new s.A([new p.A({material:{color:new l.A([0,0,0])},size:(0,a.PN)(1)})])}),A=new y.A({symbolLayers:new s.A([new i.A({outline:{color:new l.A([0,0,0]),size:(0,a.PN)(1)}})])});var w=t(67027),h=t(21778),S=t(86820),C=t(36282),M=t(44451),v=t(53627),k=t(25863);const I={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function D(e,n=I){if(!e)return{symbol:null};const{retainId:t=I.retainId,ignoreDrivers:l=I.ignoreDrivers,hasLabelingContext:s=I.hasLabelingContext,retainCIM:a=I.retainCIM,cimFallbackEnabled:i=I.cimFallbackEnabled}=n;let f=null;if((0,o.wk)(e)||e instanceof w.A)f=e.clone();else if("cim"===e.type){const t=e.data?.symbol?.type;switch(t){case"CIMPointSymbol":f=a?e.clone():m.A.fromCIMSymbol(e);break;case"CIMLineSymbol":i&&(f=g.clone(),n?.logWarning?.("Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":i&&(f=A.clone(),n?.logWarning?.("Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!f)return{error:new r.A("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof h.A)f=c.A.fromSimpleLineSymbol(e);else if(e instanceof S.A)f=m.A.fromSimpleMarkerSymbol(e);else if(e instanceof C.A)f=m.A.fromPictureMarkerSymbol(e);else if(e instanceof M.A)f=n.geometryType&&"mesh"===n.geometryType?u.A.fromSimpleFillSymbol(e):y.A.fromSimpleFillSymbol(e);else{if(!(e instanceof v.A))return{error:new r.A("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};f=s?k.A.fromTextSymbol(e):m.A.fromTextSymbol(e)}return t&&f&&"cim"!==f.type&&(f.id=e.id),l&&(0,o.wk)(f)&&f.symbolLayers.forEach((e=>e.ignoreDrivers=!0)),{symbol:f}}},86946:function(e,n,t){t.d(n,{resolveWebStyleSymbol:function(){return f}});var o=t(86978),r=t(97787),l=t(18244),s=t(94),a=t(45959),i=t(27621),c=t(33113),u=t(18821),m=t(51974),y=t(2318);function f(e,n,t,o){const r=e.name;return null==r?Promise.reject(new l.A("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?p(r,n,o):(0,m.cF)(e,n,o).then((e=>d(e,r,n,t,m.o5,o)))}function b(e,n){return n.items.find((n=>n.name===e))}function d(e,n,t,f,d,p){const g=null!=t?.portal?t.portal:a.A.getDefault(),A={portal:g,url:(0,s.An)(e.baseUrl),origin:"portal-item"},w=b(n,e.data);if(!w){const e=`The symbol name '${n}' could not be found`;return Promise.reject(new l.A("symbolstyleutils:symbol-name-not-found",e,{symbolName:n}))}let h=(0,i.f)(d(w,f),A),S=w.thumbnail?.href??null;const C=w.thumbnail?.imageData;(0,r.b5)()&&(h=(0,r.EM)(h)??"",S=(0,r.EM)(S));const M={portal:g,url:(0,s.An)((0,s.nM)(h)),origin:"portal-item"};return(0,m.yA)(h,p).then((r=>{const l="cimRef"===f?(0,m.bo)(r.data):r.data,s=(0,c.rS)(l,M);if(s&&(0,o.wk)(s)){if(S){const e=(0,i.f)(S,A);s.thumbnail=new y.V({url:e})}else C&&(s.thumbnail=new y.V({url:`data:image/png;base64,${C}`}));e.styleUrl?s.styleOrigin=new u.A({portal:t.portal,styleUrl:e.styleUrl,name:n}):e.styleName&&(s.styleOrigin=new u.A({portal:t.portal,styleName:e.styleName,name:n}))}return s}))}function p(e,n,t){const o=m.jg.replaceAll(/\{SymbolName\}/gi,e),r=null!=n.portal?n.portal:a.A.getDefault();return(0,m.yA)(o,t).then((e=>{const n=(0,m.bo)(e.data);return(0,c.rS)(n,{portal:r,url:(0,s.An)((0,s.nM)(o)),origin:"portal-item"})}))}}}]);
//# sourceMappingURL=6946.75d7c83f.js.map