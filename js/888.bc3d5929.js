"use strict";(self["webpackChunkvue_arcgis_0905"]=self["webpackChunkvue_arcgis_0905"]||[]).push([[888],{28972:function(t,e,n){n.d(e,{l:function(){return l}});var r=n(27165),s=n(44337),o=n(74344);function a(t,e,n){const r=Math.sin(t),s=Math.cos(t),o=Math.sin(e),a=Math.cos(e),u=n;return u[0]=-r,u[4]=-o*s,u[8]=a*s,u[12]=0,u[1]=s,u[5]=-o*r,u[9]=a*r,u[13]=0,u[2]=0,u[6]=a,u[10]=o,u[14]=0,u[3]=0,u[7]=0,u[11]=0,u[15]=1,u}function u(t,e,n){return a(t,e,n),(0,s.mg)(n,n),n}var i=n(37610),c=n(84427);function l(t,e,n,r){if(null==t||null==r)return!1;const o=(0,i.Qk)(t,i.Wv),l=(0,i.Qk)(r,i.zp);if(o===l&&!f(l)&&(o!==i.rz.UNKNOWN||(0,c.aI)(t,r)))return(0,s.kN)(n,e),!0;if(f(l)){const t=i.w5[o][i.rz.LON_LAT],r=i.w5[i.rz.LON_LAT][l];return null!=t&&null!=r&&(t(e,0,E,0),r(E,0,A,0),a(p*E[0],p*E[1],n),n[12]=A[0],n[13]=A[1],n[14]=A[2],!0)}if(!(l!==i.rz.WEB_MERCATOR&&l!==i.rz.PLATE_CARREE&&l!==i.rz.WGS84&&l!==i.rz.CGCS2000||o!==i.rz.WGS84&&o!==i.rz.SPHERICAL_ECEF&&o!==i.rz.WEB_MERCATOR&&o!==i.rz.CGCS2000)){const t=i.w5[o][i.rz.LON_LAT],r=i.w5[i.rz.LON_LAT][l];return null!=t&&null!=r&&(t(e,0,E,0),r(E,0,A,0),o===i.rz.SPHERICAL_ECEF?u(p*E[0],p*E[1],n):(0,s.D_)(n),n[12]=A[0],n[13]=A[1],n[14]=A[2],!0)}return!1}function f(t){return t===i.rz.SPHERICAL_ECEF||t===i.rz.SPHERICAL_MARS_PCPF||t===i.rz.SPHERICAL_MOON_PCPF}const p=(0,r.kU)(1),E=(0,o.vt)(),A=(0,o.vt)()},49398:function(t,e,n){n.d(e,{Y0:function(){return c},lO:function(){return l}});var r=n(12919),s=n(70616),o=n(84427);const a=new s.A(r.fv),u=new s.A(r.FY),i=new s.A(r.LJ),c=new s.A(r.Ro);function l(t){const e=f.get(t);if(e)return e;let n=a;if(t)if(t===u)n=u;else if(t===i)n=i;else{const e=t.wkid,r=t.latestWkid;if(null!=e||null!=r)(0,o.tl)(e)||(0,o.tl)(r)?n=u:((0,o.ZL)(e)||(0,o.ZL)(r))&&(n=i);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===p?n=u:t===E&&(n=i)}}}return f.set(t,n),n}const f=new Map,p=u.wkt.toUpperCase(),E=i.wkt.toUpperCase()},20644:function(t,e,n){n.r(e),n.d(e,{assetMapFromAssetMapsJSON:function(){return N},extractMesh:function(){return C},meshFeatureSetFromJSON:function(){return m}});n(44114),n(17642),n(58004),n(33853),n(45876),n(32475),n(15024),n(31698);var r=n(26052),s=n(8660),o=n(71207),a=n(79429),u=n(66248),i=n(86743),c=n(70616),l=n(34146),f=n(53469),p=n(70255),E=n(8917);const A=()=>s.A.getLogger("esri.rest.support.meshFeatureSet");function m(t,e,n){const s=n.features;n.features=[],delete n.geometryType;const o=E.A.fromJSON(n);if(o.geometryType="mesh",!n.assetMaps)return o;const a=N(e,n.assetMaps),u=t.sourceSpatialReference??c.A.WGS84,i=n.globalIdFieldName,{outFields:l}=t,f=null!=l&&l.length>0?w(l.includes("*")?null:new Set(l)):()=>({});for(const c of s){const t=C(c,i,u,e,a);o.features.push(new r.A({geometry:t,attributes:f(c)}))}return o}function w(t){return({attributes:e})=>{if(!e)return{};if(!t)return e;for(const n in e)t.has(n)||delete e[n];return e}}function C(t,e,n,r,s){const o=t.attributes[e],i=s.get(o);if(null==i||!t.geometry)return null;const c=L(t,n,r),l=a.A.fromJSON(t.geometry);l.spatialReference=n;const f=S(t.attributes,r),p=n.isGeographic?"local":"georeferenced",E=g(i);return E?u.A.createWithExternalSource(c,E,{extent:l,transform:f,vertexSpace:p}):u.A.createIncomplete(c,{extent:l,transform:f,vertexSpace:p})}function L({attributes:t},e,{transformFieldRoles:n}){const r=t[n.originX],s=t[n.originY],o=t[n.originZ];return new i.A({x:r,y:s,z:o,spatialReference:e})}function S(t,{transformFieldRoles:e}){return new l.A({translation:[t[e.translationX],-t[e.translationZ],t[e.translationY]],rotationAxis:[t[e.rotationX],-t[e.rotationZ],t[e.rotationY]],rotationAngle:t[e.rotationDeg],scale:[t[e.scaleX],t[e.scaleZ],t[e.scaleY]]})}var h;function N(t,e){const n=new Map;for(const r of e){const e=r.parentGlobalId;if(null==e)continue;const s=r.assetName,a=r.assetType,u=r.assetHash,i=r.assetURL,c=r.conversionStatus,l=r.seqNo,f=(0,p.Fm)(a,t.supportedFormats);if(!f){A().error("mesh-feature-set:unknown-format",`Service returned an asset of type ${a}, but it does not list it as a supported type`);continue}const E=(0,o.tE)(n,e,(()=>({files:new Map})));(0,o.tE)(E.files,s,(()=>({name:s,type:a,mimeType:f,status:M(c),parts:[]}))).parts[l]={hash:u,url:i}}return n}function g(t){const e=Array.from(t.files.values()),n=new Array;for(const r of e){if(r.status!==h.COMPLETED)return null;const t=new Array;for(const e of r.parts){if(!e)return null;t.push(new f.Bq(e.url,e.hash))}n.push(new f.Qp(r.name,r.mimeType,t))}return n}function M(t){switch(t){case"COMPLETED":case"SUBMITTED":return h.COMPLETED;case"INPROGRESS":return h.PENDING;default:return h.FAILED}}!function(t){t[t.FAILED=0]="FAILED",t[t.PENDING=1]="PENDING",t[t.COMPLETED=2]="COMPLETED"}(h||(h={}))}}]);
//# sourceMappingURL=888.bc3d5929.js.map